this.createjs = this.createjs || {}, function () { var n = function () { throw "UID cannot be instantiated"; }; n._nextID = 0, n.get = function () { return n._nextID++ }, createjs.UID = n }(), this.createjs = this.createjs || {}, function () { var t = function () { this.initialize() }, n = t.prototype; t.initialize = function (t) { t.addEventListener = n.addEventListener, t.removeEventListener = n.removeEventListener, t.removeAllEventListeners = n.removeAllEventListeners, t.hasEventListener = n.hasEventListener, t.dispatchEvent = n.dispatchEvent }, n._listeners = null, n.initialize = function () { }, n.addEventListener = function (n, t) { var i = this._listeners, r; return i ? this.removeEventListener(n, t) : i = this._listeners = {}, r = i[n], r || (r = i[n] = []), r.push(t), t }, n.removeEventListener = function (n, t) { var u = this._listeners, i, r, f; if (u && (i = u[n], i)) for (r = 0, f = i.length; r < f; r++) if (i[r] == t) { 1 == f ? delete u[n] : i.splice(r, 1); break } }, n.removeAllEventListeners = function (n) { n ? this._listeners && delete this._listeners[n] : this._listeners = null }, n.dispatchEvent = function (n, t) { var r = !1, i = this._listeners, u; if (n && i) { if ("string" == typeof n && (n = { type: n }), i = i[n.type], !i) return r; n.target = t || this; for (var i = i.slice(), f = 0, e = i.length; f < e; f++) u = i[f], r = u.handleEvent ? r || u.handleEvent(n) : r || u(n) } return !!r }, n.hasEventListener = function (n) { var t = this._listeners; return !(!t || !t[n]) }, n.toString = function () { return "[EventDispatcher]" }, createjs.EventDispatcher = t }(), this.createjs = this.createjs || {}, function () { var n = function () { throw "Ticker cannot be instantiated."; }, t; n.useRAF = !1, n.addEventListener = null, n.removeEventListener = null, n.removeAllEventListeners = null, n.dispatchEvent = null, n.hasEventListener = null, n._listeners = null, createjs.EventDispatcher.initialize(n), n._listeners = null, n._pauseable = null, n._paused = !1, n._inited = !1, n._startTime = 0, n._pausedTime = 0, n._ticks = 0, n._pausedTicks = 0, n._interval = 50, n._lastTime = 0, n._times = null, n._tickTimes = null, n._rafActive = !1, n._timeoutID = null, n.addListener = function (t, i) { null != t && (n.removeListener(t), n._pauseable[n._listeners.length] = null == i ? !0 : i, n._listeners.push(t)) }, n.init = function () { n._inited = !0, n._times = [], n._tickTimes = [], n._pauseable = [], n._listeners = [], n._times.push(n._lastTime = n._startTime = n._getTime()), n.setInterval(n._interval) }, n.removeListener = function (t) { var i = n._listeners; i && (t = i.indexOf(t), -1 != t && (i.splice(t, 1), n._pauseable.splice(t, 1))) }, n.removeAllListeners = function () { n._listeners = [], n._pauseable = [] }, n.setInterval = function (t) { n._interval = t, n._inited && n._setupTick() }, n.getInterval = function () { return n._interval }, n.setFPS = function (t) { n.setInterval(1e3 / t) }, n.getFPS = function () { return 1e3 / n._interval }, n.getMeasuredFPS = function (t) { return 2 > n._times.length ? -1 : (null == t && (t = n.getFPS() | 0), t = Math.min(n._times.length - 1, t), 1e3 / ((n._times[0] - n._times[t]) / t)) }, n.setPaused = function (t) { n._paused = t }, n.getPaused = function () { return n._paused }, n.getTime = function (t) { return n._getTime() - n._startTime - (t ? n._pausedTime : 0) }, n.getTicks = function (t) { return n._ticks - (t ? n._pausedTicks : 0) }, n._handleAF = function () { n._rafActive = !1, n._setupTick(), n._getTime() - n._lastTime >= .97 * (n._interval - 1) && n._tick() }, n._handleTimeout = function () { n.timeoutID = null, n._setupTick(), n._tick() }, n._setupTick = function () { if (!(n._rafActive || null != n.timeoutID)) { if (n.useRAF) { var t = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame; if (t) { t(n._handleAF), n._rafActive = !0; return } } n.timeoutID = setTimeout(n._handleTimeout, n._interval) } }, n._tick = function () { var t = n._getTime(), u, i, r; n._ticks++, u = t - n._lastTime, i = n._paused, i && (n._pausedTicks++, n._pausedTime += u), n._lastTime = t; for (var o = n._pauseable, e = n._listeners.slice(), s = e ? e.length : 0, f = 0; f < s; f++) r = e[f], null == r || i && o[f] || (r.tick ? r.tick(u, i) : r instanceof Function && r(u, i)); for (n.dispatchEvent({ type: "tick", paused: i, delta: u, time: t, runTime: t - n._pausedTime }), n._tickTimes.unshift(n._getTime() - t) ; 100 < n._tickTimes.length;) n._tickTimes.pop(); for (n._times.unshift(t) ; 100 < n._times.length;) n._times.pop() }, t = window.performance && (performance.now || performance.mozNow || performance.msNow || performance.oNow || performance.webkitNow), n._getTime = function () { return t && t.call(performance) || (new Date).getTime() }, n.init(), createjs.Ticker = n }(), this.createjs = this.createjs || {}, function () { var t = function (n, t, i, r, u, f, e, o, s) { this.initialize(n, t, i, r, u, f, e, o, s) }, n = t.prototype; n.stageX = 0, n.stageY = 0, n.rawX = 0, n.rawY = 0, n.type = null, n.nativeEvent = null, n.onMouseMove = null, n.onMouseUp = null, n.target = null, n.pointerID = 0, n.primary = !1, n.addEventListener = null, n.removeEventListener = null, n.removeAllEventListeners = null, n.dispatchEvent = null, n.hasEventListener = null, n._listeners = null, createjs.EventDispatcher.initialize(n), n.initialize = function (n, t, i, r, u, f, e, o, s) { this.type = n, this.stageX = t, this.stageY = i, this.target = r, this.nativeEvent = u, this.pointerID = f, this.primary = e, this.rawX = null == o ? t : o, this.rawY = null == s ? i : s }, n.clone = function () { return new t(this.type, this.stageX, this.stageY, this.target, this.nativeEvent, this.pointerID, this.primary, this.rawX, this.rawY) }, n.toString = function () { return "[MouseEvent (type=" + this.type + " stageX=" + this.stageX + " stageY=" + this.stageY + ")]" }, createjs.MouseEvent = t }(), this.createjs = this.createjs || {}, function () { var t = function (n, t, i, r, u, f) { this.initialize(n, t, i, r, u, f) }, n = t.prototype; t.identity = null, t.DEG_TO_RAD = Math.PI / 180, n.a = 1, n.b = 0, n.c = 0, n.d = 1, n.tx = 0, n.ty = 0, n.alpha = 1, n.shadow = null, n.compositeOperation = null, n.initialize = function (n, t, i, r, u, f) { return null != n && (this.a = n), this.b = t || 0, this.c = i || 0, null != r && (this.d = r), this.tx = u || 0, this.ty = f || 0, this }, n.prepend = function (n, t, i, r, u, f) { var s = this.tx, e, o; return (1 != n || 0 != t || 0 != i || 1 != r) && (e = this.a, o = this.c, this.a = e * n + this.b * i, this.b = e * t + this.b * r, this.c = o * n + this.d * i, this.d = o * t + this.d * r), this.tx = s * n + this.ty * i + u, this.ty = s * t + this.ty * r + f, this }, n.append = function (n, t, i, r, u, f) { var e = this.a, o = this.b, s = this.c, h = this.d; return this.a = n * e + t * s, this.b = n * o + t * h, this.c = i * e + r * s, this.d = i * o + r * h, this.tx = u * e + f * s + this.tx, this.ty = u * o + f * h + this.ty, this }, n.prependMatrix = function (n) { return this.prepend(n.a, n.b, n.c, n.d, n.tx, n.ty), this.prependProperties(n.alpha, n.shadow, n.compositeOperation), this }, n.appendMatrix = function (n) { return this.append(n.a, n.b, n.c, n.d, n.tx, n.ty), this.appendProperties(n.alpha, n.shadow, n.compositeOperation), this }, n.prependTransform = function (n, i, r, u, f, e, o, s, h) { if (f % 360) { var c = f * t.DEG_TO_RAD; f = Math.cos(c), c = Math.sin(c) } else f = 1, c = 0; return (s || h) && (this.tx -= s, this.ty -= h), e || o ? (e *= t.DEG_TO_RAD, o *= t.DEG_TO_RAD, this.prepend(f * r, c * r, -c * u, f * u, 0, 0), this.prepend(Math.cos(o), Math.sin(o), -Math.sin(e), Math.cos(e), n, i)) : this.prepend(f * r, c * r, -c * u, f * u, n, i), this }, n.appendTransform = function (n, i, r, u, f, e, o, s, h) { if (f % 360) { var c = f * t.DEG_TO_RAD; f = Math.cos(c), c = Math.sin(c) } else f = 1, c = 0; return e || o ? (e *= t.DEG_TO_RAD, o *= t.DEG_TO_RAD, this.append(Math.cos(o), Math.sin(o), -Math.sin(e), Math.cos(e), n, i), this.append(f * r, c * r, -c * u, f * u, 0, 0)) : this.append(f * r, c * r, -c * u, f * u, n, i), (s || h) && (this.tx -= s * this.a + h * this.c, this.ty -= s * this.b + h * this.d), this }, n.rotate = function (n) { var t = Math.cos(n); n = Math.sin(n); var i = this.a, r = this.c, u = this.tx; return this.a = i * t - this.b * n, this.b = i * n + this.b * t, this.c = r * t - this.d * n, this.d = r * n + this.d * t, this.tx = u * t - this.ty * n, this.ty = u * n + this.ty * t, this }, n.skew = function (n, i) { return n *= t.DEG_TO_RAD, i *= t.DEG_TO_RAD, this.append(Math.cos(i), Math.sin(i), -Math.sin(n), Math.cos(n), 0, 0), this }, n.scale = function (n, t) { return this.a *= n, this.d *= t, this.c *= n, this.b *= t, this.tx *= n, this.ty *= t, this }, n.translate = function (n, t) { return this.tx += n, this.ty += t, this }, n.identity = function () { return this.alpha = this.a = this.d = 1, this.b = this.c = this.tx = this.ty = 0, this.shadow = this.compositeOperation = null, this }, n.invert = function () { var t = this.a, i = this.b, r = this.c, u = this.d, f = this.tx, n = t * u - i * r; return this.a = u / n, this.b = -i / n, this.c = -r / n, this.d = t / n, this.tx = (r * this.ty - u * f) / n, this.ty = -(t * this.ty - i * f) / n, this }, n.isIdentity = function () { return 0 == this.tx && 0 == this.ty && 1 == this.a && 0 == this.b && 0 == this.c && 1 == this.d }, n.decompose = function (n) { null == n && (n = {}), n.x = this.tx, n.y = this.ty, n.scaleX = Math.sqrt(this.a * this.a + this.b * this.b), n.scaleY = Math.sqrt(this.c * this.c + this.d * this.d); var r = Math.atan2(-this.c, this.d), i = Math.atan2(this.b, this.a); return r == i ? (n.rotation = i / t.DEG_TO_RAD, 0 > this.a && 0 <= this.d && (n.rotation += 0 >= n.rotation ? 180 : -180), n.skewX = n.skewY = 0) : (n.skewX = r / t.DEG_TO_RAD, n.skewY = i / t.DEG_TO_RAD), n }, n.reinitialize = function (n, t, i, r, u, f, e, o, s) { return this.initialize(n, t, i, r, u, f), this.alpha = e || 1, this.shadow = o, this.compositeOperation = s, this }, n.appendProperties = function (n, t, i) { return this.alpha *= n, this.shadow = t || this.shadow, this.compositeOperation = i || this.compositeOperation, this }, n.prependProperties = function (n, t, i) { return this.alpha *= n, this.shadow = this.shadow || t, this.compositeOperation = this.compositeOperation || i, this }, n.clone = function () { var n = new t(this.a, this.b, this.c, this.d, this.tx, this.ty); return n.shadow = this.shadow, n.alpha = this.alpha, n.compositeOperation = this.compositeOperation, n }, n.toString = function () { return "[Matrix2D (a=" + this.a + " b=" + this.b + " c=" + this.c + " d=" + this.d + " tx=" + this.tx + " ty=" + this.ty + ")]" }, t.identity = new t(1, 0, 0, 1, 0, 0), createjs.Matrix2D = t }(), this.createjs = this.createjs || {}, function () { var t = function (n, t) { this.initialize(n, t) }, n = t.prototype; n.x = 0, n.y = 0, n.initialize = function (n, t) { this.x = null == n ? 0 : n, this.y = null == t ? 0 : t }, n.clone = function () { return new t(this.x, this.y) }, n.toString = function () { return "[Point (x=" + this.x + " y=" + this.y + ")]" }, createjs.Point = t }(), this.createjs = this.createjs || {}, function () { var t = function (n, t, i, r) { this.initialize(n, t, i, r) }, n = t.prototype; n.x = 0, n.y = 0, n.width = 0, n.height = 0, n.initialize = function (n, t, i, r) { this.x = null == n ? 0 : n, this.y = null == t ? 0 : t, this.width = null == i ? 0 : i, this.height = null == r ? 0 : r }, n.clone = function () { return new t(this.x, this.y, this.width, this.height) }, n.toString = function () { return "[Rectangle (x=" + this.x + " y=" + this.y + " width=" + this.width + " height=" + this.height + ")]" }, createjs.Rectangle = t }(), this.createjs = this.createjs || {}, function () { var t = function (n, t, i, r, u, f, e) { this.initialize(n, t, i, r, u, f, e) }, n = t.prototype; n.target = null, n.overLabel = null, n.outLabel = null, n.downLabel = null, n.play = !1, n._isPressed = !1, n._isOver = !1, n.initialize = function (n, t, i, r, u, f, e) { n.addEventListener && (this.target = n, n.cursor = "pointer", this.overLabel = null == i ? "over" : i, this.outLabel = null == t ? "out" : t, this.downLabel = null == r ? "down" : r, this.play = u, this.setEnabled(!0), this.handleEvent({}), f && (e && (f.actionsEnabled = !1, f.gotoAndStop && f.gotoAndStop(e)), n.hitArea = f)) }, n.setEnabled = function (n) { var t = this.target; n ? (t.addEventListener("mouseover", this), t.addEventListener("mouseout", this), t.addEventListener("mousedown", this)) : (t.removeEventListener("mouseover", this), t.removeEventListener("mouseout", this), t.removeEventListener("mousedown", this)) }, n.toString = function () { return "[ButtonHelper]" }, n.handleEvent = function (n) { var t = this.target, i = n.type; "mousedown" == i ? (n.addEventListener("mouseup", this), this._isPressed = !0, n = this.downLabel) : "mouseup" == i ? (this._isPressed = !1, n = this._isOver ? this.overLabel : this.outLabel) : "mouseover" == i ? (this._isOver = !0, n = this._isPressed ? this.downLabel : this.overLabel) : (this._isOver = !1, n = this._isPressed ? this.overLabel : this.outLabel), this.play ? t.gotoAndPlay && t.gotoAndPlay(n) : t.gotoAndStop && t.gotoAndStop(n) }, createjs.ButtonHelper = t }(), this.createjs = this.createjs || {}, function () { var t = function (n, t, i, r) { this.initialize(n, t, i, r) }, n = t.prototype; t.identity = null, n.color = null, n.offsetX = 0, n.offsetY = 0, n.blur = 0, n.initialize = function (n, t, i, r) { this.color = n, this.offsetX = t, this.offsetY = i, this.blur = r }, n.toString = function () { return "[Shadow]" }, n.clone = function () { return new t(this.color, this.offsetX, this.offsetY, this.blur) }, t.identity = new t("transparent", 0, 0, 0), createjs.Shadow = t }(), this.createjs = this.createjs || {}, function () { var t = function (n) { this.initialize(n) }, n = t.prototype; n.complete = !0, n.onComplete = null, n.addEventListener = null, n.removeEventListener = null, n.removeAllEventListeners = null, n.dispatchEvent = null, n.hasEventListener = null, n._listeners = null, createjs.EventDispatcher.initialize(n), n._animations = null, n._frames = null, n._images = null, n._data = null, n._loadCount = 0, n._frameHeight = 0, n._frameWidth = 0, n._numFrames = 0, n._regX = 0, n._regY = 0, n.initialize = function (n) { var i, r, u, t, f, e; if (null != n) { if (n.images && 0 < (r = n.images.length)) for (u = this._images = [], i = 0; i < r; i++) f = n.images[i], "string" == typeof f && (t = f, f = new Image, f.src = t), u.push(f), f.getContext || f.complete || (this._loadCount++, this.complete = !1, function (n) { f.onload = function () { n._handleImageLoad() } }(this)); if (null != n.frames) if (n.frames instanceof Array) for (this._frames = [], u = n.frames, i = 0, r = u.length; i < r; i++) t = u[i], this._frames.push({ image: this._images[t[4] ? t[4] : 0], rect: new createjs.Rectangle(t[0], t[1], t[2], t[3]), regX: t[5] || 0, regY: t[6] || 0 }); else r = n.frames, this._frameWidth = r.width, this._frameHeight = r.height, this._regX = r.regX || 0, this._regY = r.regY || 0, this._numFrames = r.count, 0 == this._loadCount && this._calculateFrames(); if (null != (r = n.animations)) { this._animations = [], this._data = {}; for (e in r) { if (n = { name: e }, t = r[e], "number" == typeof t) u = n.frames = [t]; else if (t instanceof Array) if (1 == t.length) n.frames = [t[0]]; else for (n.frequency = t[3], n.next = t[2], u = n.frames = [], i = t[0]; i <= t[1]; i++) u.push(i); else n.frequency = t.frequency, n.next = t.next, i = t.frames, u = n.frames = "number" == typeof i ? [i] : i.slice(0); n.next = 2 > u.length || !1 == n.next ? null : null == n.next || !0 == n.next ? e : n.next, n.frequency || (n.frequency = 1), this._animations.push(e), this._data[e] = n } } } }, n.getNumFrames = function (n) { return null == n ? this._frames ? this._frames.length : this._numFrames : (n = this._data[n], null == n ? 0 : n.frames.length) }, n.getAnimations = function () { return this._animations.slice(0) }, n.getAnimation = function (n) { return this._data[n] }, n.getFrame = function (n) { var t; return this.complete && this._frames && (t = this._frames[n]) ? t : null }, n.getFrameBounds = function (n) { return (n = this.getFrame(n)) ? new createjs.Rectangle(-n.regX, -n.regY, n.rect.width, n.rect.height) : null }, n.toString = function () { return "[SpriteSheet]" }, n.clone = function () { var n = new t; return n.complete = this.complete, n._animations = this._animations, n._frames = this._frames, n._images = this._images, n._data = this._data, n._frameHeight = this._frameHeight, n._frameWidth = this._frameWidth, n._numFrames = this._numFrames, n._loadCount = this._loadCount, n }, n._handleImageLoad = function () { 0 == --this._loadCount && (this._calculateFrames(), this.complete = !0, this.onComplete && this.onComplete(), this.dispatchEvent("complete")) }, n._calculateFrames = function () { if (!(this._frames || 0 == this._frameWidth)) { this._frames = []; for (var r = 0, u = this._frameWidth, f = this._frameHeight, e = 0, s = this._images; e < s.length; e++) { for (var o = s[e], t = (o.width + 1) / u | 0, n = (o.height + 1) / f | 0, n = 0 < this._numFrames ? Math.min(this._numFrames - r, t * n) : t * n, i = 0; i < n; i++) this._frames.push({ image: o, rect: new createjs.Rectangle(i % t * u, (i / t | 0) * f, u, f), regX: this._regX, regY: this._regY }); r += n } this._numFrames = r } }, createjs.SpriteSheet = t }(), this.createjs = this.createjs || {}, function () { function t(n, t, i) { this.f = n, this.params = t, this.path = null == i ? !0 : i } t.prototype.exec = function (n) { this.f.apply(n, this.params) }; var i = function () { this.initialize() }, n = i.prototype; i.getRGB = function (n, t, i, r) { return null != n && null == i && (r = t, i = n & 255, t = n >> 8 & 255, n = n >> 16 & 255), null == r ? "rgb(" + n + "," + t + "," + i + ")" : "rgba(" + n + "," + t + "," + i + "," + r + ")" }, i.getHSL = function (n, t, i, r) { return null == r ? "hsl(" + n % 360 + "," + t + "%," + i + "%)" : "hsla(" + n % 360 + "," + t + "%," + i + "%," + r + ")" }, i.BASE_64 = { A: 0, B: 1, C: 2, D: 3, E: 4, F: 5, G: 6, H: 7, I: 8, J: 9, K: 10, L: 11, M: 12, N: 13, O: 14, P: 15, Q: 16, R: 17, S: 18, T: 19, U: 20, V: 21, W: 22, X: 23, Y: 24, Z: 25, a: 26, b: 27, c: 28, d: 29, e: 30, f: 31, g: 32, h: 33, i: 34, j: 35, k: 36, l: 37, m: 38, n: 39, o: 40, p: 41, q: 42, r: 43, s: 44, t: 45, u: 46, v: 47, w: 48, x: 49, y: 50, z: 51, "0": 52, 1: 53, 2: 54, 3: 55, 4: 56, 5: 57, 6: 58, 7: 59, 8: 60, 9: 61, "+": 62, "/": 63 }, i.STROKE_CAPS_MAP = ["butt", "round", "square"], i.STROKE_JOINTS_MAP = ["miter", "round", "bevel"], i._ctx = (createjs.createCanvas ? createjs.createCanvas() : document.createElement("canvas")).getContext("2d"), i.beginCmd = new t(i._ctx.beginPath, [], !1), i.fillCmd = new t(i._ctx.fill, [], !1), i.strokeCmd = new t(i._ctx.stroke, [], !1), n._strokeInstructions = null, n._strokeStyleInstructions = null, n._ignoreScaleStroke = !1, n._fillInstructions = null, n._instructions = null, n._oldInstructions = null, n._activeInstructions = null, n._active = !1, n._dirty = !1, n.initialize = function () { this.clear(), this._ctx = i._ctx }, n.isEmpty = function () { return !(this._instructions.length || this._oldInstructions.length || this._activeInstructions.length) }, n.draw = function (n) { this._dirty && this._updateInstructions(); for (var i = this._instructions, t = 0, r = i.length; t < r; t++) i[t].exec(n) }, n.drawAsPath = function (n) { this._dirty && this._updateInstructions(); for (var i, r = this._instructions, t = 0, u = r.length; t < u; t++) ((i = r[t]).path || 0 == t) && i.exec(n) }, n.moveTo = function (n, i) { return this._activeInstructions.push(new t(this._ctx.moveTo, [n, i])), this }, n.lineTo = function (n, i) { return this._dirty = this._active = !0, this._activeInstructions.push(new t(this._ctx.lineTo, [n, i])), this }, n.arcTo = function (n, i, r, u, f) { return this._dirty = this._active = !0, this._activeInstructions.push(new t(this._ctx.arcTo, [n, i, r, u, f])), this }, n.arc = function (n, i, r, u, f, e) { return this._dirty = this._active = !0, null == e && (e = !1), this._activeInstructions.push(new t(this._ctx.arc, [n, i, r, u, f, e])), this }, n.quadraticCurveTo = function (n, i, r, u) { return this._dirty = this._active = !0, this._activeInstructions.push(new t(this._ctx.quadraticCurveTo, [n, i, r, u])), this }, n.bezierCurveTo = function (n, i, r, u, f, e) { return this._dirty = this._active = !0, this._activeInstructions.push(new t(this._ctx.bezierCurveTo, [n, i, r, u, f, e])), this }, n.rect = function (n, i, r, u) { return this._dirty = this._active = !0, this._activeInstructions.push(new t(this._ctx.rect, [n, i, r, u])), this }, n.closePath = function () { return this._active && (this._dirty = !0, this._activeInstructions.push(new t(this._ctx.closePath, []))), this }, n.clear = function () { return this._instructions = [], this._oldInstructions = [], this._activeInstructions = [], this._strokeStyleInstructions = this._strokeInstructions = this._fillInstructions = null, this._active = this._dirty = !1, this }, n.beginFill = function (n) { return this._active && this._newPath(), this._fillInstructions = n ? [new t(this._setProp, ["fillStyle", n], !1), i.fillCmd] : null, this }, n.beginLinearGradientFill = function (n, r, u, f, e, o) { for (this._active && this._newPath(), u = this._ctx.createLinearGradient(u, f, e, o), f = 0, e = n.length; f < e; f++) u.addColorStop(r[f], n[f]); return this._fillInstructions = [new t(this._setProp, ["fillStyle", u], !1), i.fillCmd], this }, n.beginRadialGradientFill = function (n, r, u, f, e, o, s, h) { for (this._active && this._newPath(), u = this._ctx.createRadialGradient(u, f, e, o, s, h), f = 0, e = n.length; f < e; f++) u.addColorStop(r[f], n[f]); return this._fillInstructions = [new t(this._setProp, ["fillStyle", u], !1), i.fillCmd], this }, n.beginBitmapFill = function (n, r, u) { return this._active && this._newPath(), n = this._ctx.createPattern(n, r || ""), n = new t(this._setProp, ["fillStyle", n], !1), this._fillInstructions = u ? [n, new t(this._ctx.save, [], !1), new t(this._ctx.transform, [u.a, u.b, u.c, u.d, u.tx, u.ty], !1), i.fillCmd, new t(this._ctx.restore, [], !1)] : [n, i.fillCmd], this }, n.endFill = function () { return this.beginFill() }, n.setStrokeStyle = function (n, r, u, f, e) { return this._active && this._newPath(), this._strokeStyleInstructions = [new t(this._setProp, ["lineWidth", null == n ? "1" : n], !1), new t(this._setProp, ["lineCap", null == r ? "butt" : isNaN(r) ? r : i.STROKE_CAPS_MAP[r]], !1), new t(this._setProp, ["lineJoin", null == u ? "miter" : isNaN(u) ? u : i.STROKE_JOINTS_MAP[u]], !1), new t(this._setProp, ["miterLimit", null == f ? "10" : f], !1)], this._ignoreScaleStroke = e, this }, n.beginStroke = function (n) { return this._active && this._newPath(), this._strokeInstructions = n ? [new t(this._setProp, ["strokeStyle", n], !1)] : null, this }, n.beginLinearGradientStroke = function (n, i, r, u, f, e) { for (this._active && this._newPath(), r = this._ctx.createLinearGradient(r, u, f, e), u = 0, f = n.length; u < f; u++) r.addColorStop(i[u], n[u]); return this._strokeInstructions = [new t(this._setProp, ["strokeStyle", r], !1)], this }, n.beginRadialGradientStroke = function (n, i, r, u, f, e, o, s) { for (this._active && this._newPath(), r = this._ctx.createRadialGradient(r, u, f, e, o, s), u = 0, f = n.length; u < f; u++) r.addColorStop(i[u], n[u]); return this._strokeInstructions = [new t(this._setProp, ["strokeStyle", r], !1)], this }, n.beginBitmapStroke = function (n, i) { this._active && this._newPath(); var r = this._ctx.createPattern(n, i || ""); return this._strokeInstructions = [new t(this._setProp, ["strokeStyle", r], !1)], this }, n.endStroke = function () { return this.beginStroke(), this }, n.curveTo = n.quadraticCurveTo, n.drawRect = n.rect, n.drawRoundRect = function (n, t, i, r, u) { return this.drawRoundRectComplex(n, t, i, r, u, u, u, u), this }, n.drawRoundRectComplex = function (n, i, r, u, f, e, o, s) { var h = (r < u ? r : u) / 2, l = 0, a = 0, v = 0, y = 0, c; return 0 > f && (f *= l = -1), f > h && (f = h), 0 > e && (e *= a = -1), e > h && (e = h), 0 > o && (o *= v = -1), o > h && (o = h), 0 > s && (s *= y = -1), s > h && (s = h), this._dirty = this._active = !0, h = this._ctx.arcTo, c = this._ctx.lineTo, this._activeInstructions.push(new t(this._ctx.moveTo, [n + r - e, i]), new t(h, [n + r + e * a, i - e * a, n + r, i + e, e]), new t(c, [n + r, i + u - o]), new t(h, [n + r + o * v, i + u + o * v, n + r - o, i + u, o]), new t(c, [n + s, i + u]), new t(h, [n - s * y, i + u + s * y, n, i + u - s, s]), new t(c, [n, i + f]), new t(h, [n - f * l, i - f * l, n + f, i, f]), new t(this._ctx.closePath)), this }, n.drawCircle = function (n, t, i) { return this.arc(n, t, i, 0, 2 * Math.PI), this }, n.drawEllipse = function (n, i, r, u) { this._dirty = this._active = !0; var f = .5522848 * (r / 2), e = .5522848 * (u / 2), o = n + r, s = i + u; return r = n + r / 2, u = i + u / 2, this._activeInstructions.push(new t(this._ctx.moveTo, [n, u]), new t(this._ctx.bezierCurveTo, [n, u - e, r - f, i, r, i]), new t(this._ctx.bezierCurveTo, [r + f, i, o, u - e, o, u]), new t(this._ctx.bezierCurveTo, [o, u + e, r + f, s, r, s]), new t(this._ctx.bezierCurveTo, [r - f, s, n, u + e, n, u])), this }, n.drawPolyStar = function (n, i, r, u, f, e) { var o, s; for (this._dirty = this._active = !0, null == f && (f = 0), f = 1 - f, e = null == e ? 0 : e / (180 / Math.PI), o = Math.PI / u, this._activeInstructions.push(new t(this._ctx.moveTo, [n + Math.cos(e) * r, i + Math.sin(e) * r])), s = 0; s < u; s++) e += o, 1 != f && this._activeInstructions.push(new t(this._ctx.lineTo, [n + Math.cos(e) * r * f, i + Math.sin(e) * r * f])), e += o, this._activeInstructions.push(new t(this._ctx.lineTo, [n + Math.cos(e) * r, i + Math.sin(e) * r])); return this }, n.decodePath = function (n) { for (var a = [this.moveTo, this.lineTo, this.quadraticCurveTo, this.bezierCurveTo, this.closePath], r = 0, v = n.length, s = [], h = 0, c = 0, e = i.BASE_64; r < v;) { var o = n.charAt(r), f = e[o], u = f >> 3, l = a[u]; if (!l || f & 3) throw "bad path data (@" + r + "): " + o; for (o = [2, 2, 4, 6, 0][u], u || (h = c = 0), s.length = 0, r++, f = (f >> 2 & 1) + 2, u = 0; u < o; u++) { var t = e[n.charAt(r)], y = t >> 5 ? -1 : 1, t = (t & 31) << 6 | e[n.charAt(r + 1)]; 3 == f && (t = t << 6 | e[n.charAt(r + 2)]), t = y * t / 10, u % 2 ? h = t += h : c = t += c, s[u] = t, r += f } l.apply(this, s) } return this }, n.clone = function () { var n = new i; return n._instructions = this._instructions.slice(), n._activeInstructions = this._activeInstructions.slice(), n._oldInstructions = this._oldInstructions.slice(), this._fillInstructions && (n._fillInstructions = this._fillInstructions.slice()), this._strokeInstructions && (n._strokeInstructions = this._strokeInstructions.slice()), this._strokeStyleInstructions && (n._strokeStyleInstructions = this._strokeStyleInstructions.slice()), n._active = this._active, n._dirty = this._dirty, n }, n.toString = function () { return "[Graphics]" }, n.mt = n.moveTo, n.lt = n.lineTo, n.at = n.arcTo, n.bt = n.bezierCurveTo, n.qt = n.quadraticCurveTo, n.a = n.arc, n.r = n.rect, n.cp = n.closePath, n.c = n.clear, n.f = n.beginFill, n.lf = n.beginLinearGradientFill, n.rf = n.beginRadialGradientFill, n.bf = n.beginBitmapFill, n.ef = n.endFill, n.ss = n.setStrokeStyle, n.s = n.beginStroke, n.ls = n.beginLinearGradientStroke, n.rs = n.beginRadialGradientStroke, n.bs = n.beginBitmapStroke, n.es = n.endStroke, n.dr = n.drawRect, n.rr = n.drawRoundRect, n.rc = n.drawRoundRectComplex, n.dc = n.drawCircle, n.de = n.drawEllipse, n.dp = n.drawPolyStar, n.p = n.decodePath, n._updateInstructions = function () { this._instructions = this._oldInstructions.slice(), this._instructions.push(i.beginCmd), this._instructions.push.apply(this._instructions, this._activeInstructions), this._fillInstructions && this._instructions.push.apply(this._instructions, this._fillInstructions), this._strokeInstructions && (this._strokeStyleInstructions && this._instructions.push.apply(this._instructions, this._strokeStyleInstructions), this._instructions.push.apply(this._instructions, this._strokeInstructions), this._ignoreScaleStroke ? this._instructions.push(new t(this._ctx.save, [], !1), new t(this._ctx.setTransform, [1, 0, 0, 1, 0, 0], !1), i.strokeCmd, new t(this._ctx.restore, [], !1)) : this._instructions.push(i.strokeCmd)) }, n._newPath = function () { this._dirty && this._updateInstructions(), this._oldInstructions = this._instructions, this._activeInstructions = [], this._active = this._dirty = !1 }, n._setProp = function (n, t) { this[n] = t }, createjs.Graphics = i }(), this.createjs = this.createjs || {}, function () { var t = function () { this.initialize() }, n = t.prototype; t.suppressCrossDomainErrors = !1, t._hitTestCanvas = createjs.createCanvas ? createjs.createCanvas() : document.createElement("canvas"), t._hitTestCanvas.width = t._hitTestCanvas.height = 1, t._hitTestContext = t._hitTestCanvas.getContext("2d"), t._nextCacheID = 1, n.alpha = 1, n.cacheCanvas = null, n.id = -1, n.mouseEnabled = !0, n.name = null, n.parent = null, n.regX = 0, n.regY = 0, n.rotation = 0, n.scaleX = 1, n.scaleY = 1, n.skewX = 0, n.skewY = 0, n.shadow = null, n.visible = !0, n.x = 0, n.y = 0, n.compositeOperation = null, n.snapToPixel = !1, n.onPress = null, n.onClick = null, n.onDoubleClick = null, n.onMouseOver = null, n.onMouseOut = null, n.onTick = null, n.filters = null, n.cacheID = 0, n.mask = null, n.hitArea = null, n.cursor = null, n.addEventListener = null, n.removeEventListener = null, n.removeAllEventListeners = null, n.dispatchEvent = null, n.hasEventListener = null, n._listeners = null, createjs.EventDispatcher.initialize(n), n._cacheOffsetX = 0, n._cacheOffsetY = 0, n._cacheScale = 1, n._cacheDataURLID = 0, n._cacheDataURL = null, n._matrix = null, n.initialize = function () { this.id = createjs.UID.get(), this._matrix = new createjs.Matrix2D }, n.isVisible = function () { return !(!this.visible || !(0 < this.alpha && 0 != this.scaleX && 0 != this.scaleY)) }, n.draw = function (n, t) { var i = this.cacheCanvas, r; return t || !i ? !1 : (r = this._cacheScale, n.drawImage(i, this._cacheOffsetX, this._cacheOffsetY, i.width / r, i.height / r), !0) }, n.updateContext = function (n) { var t, i = this.mask; i && i.graphics && !i.graphics.isEmpty() && (t = i.getMatrix(i._matrix), n.transform(t.a, t.b, t.c, t.d, t.tx, t.ty), i.graphics.drawAsPath(n), n.clip(), t.invert(), n.transform(t.a, t.b, t.c, t.d, t.tx, t.ty)), t = this._matrix.identity().appendTransform(this.x, this.y, this.scaleX, this.scaleY, this.rotation, this.skewX, this.skewY, this.regX, this.regY), createjs.Stage._snapToPixelEnabled && this.snapToPixel ? n.transform(t.a, t.b, t.c, t.d, t.tx + .5 | 0, t.ty + .5 | 0) : n.transform(t.a, t.b, t.c, t.d, t.tx, t.ty), n.globalAlpha *= this.alpha, this.compositeOperation && (n.globalCompositeOperation = this.compositeOperation), this.shadow && this._applyShadow(n, this.shadow) }, n.cache = function (n, t, i, r, u) { u = u || 1, this.cacheCanvas || (this.cacheCanvas = createjs.createCanvas ? createjs.createCanvas() : document.createElement("canvas")), this.cacheCanvas.width = Math.ceil(i * u), this.cacheCanvas.height = Math.ceil(r * u), this._cacheOffsetX = n, this._cacheOffsetY = t, this._cacheScale = u || 1, this.updateCache() }, n.updateCache = function (n) { var r = this.cacheCanvas, u = this._cacheScale, f = this._cacheOffsetX * u, e = this._cacheOffsetY * u, i; if (!r) throw "cache() must be called before updateCache()"; i = r.getContext("2d"), i.save(), n || i.clearRect(0, 0, r.width + 1, r.height + 1), i.globalCompositeOperation = n, i.setTransform(u, 0, 0, u, -f, -e), this.draw(i, !0), this._applyFilters(), i.restore(), this.cacheID = t._nextCacheID++ }, n.uncache = function () { this._cacheDataURL = this.cacheCanvas = null, this.cacheID = this._cacheOffsetX = this._cacheOffsetY = 0, this._cacheScale = 1 }, n.getCacheDataURL = function () { return this.cacheCanvas ? (this.cacheID != this._cacheDataURLID && (this._cacheDataURL = this.cacheCanvas.toDataURL()), this._cacheDataURL) : null }, n.getStage = function () { for (var n = this; n.parent;) n = n.parent; return n instanceof createjs.Stage ? n : null }, n.localToGlobal = function (n, t) { var i = this.getConcatenatedMatrix(this._matrix); return null == i ? null : (i.append(1, 0, 0, 1, n, t), new createjs.Point(i.tx, i.ty)) }, n.globalToLocal = function (n, t) { var i = this.getConcatenatedMatrix(this._matrix); return null == i ? null : (i.invert(), i.append(1, 0, 0, 1, n, t), new createjs.Point(i.tx, i.ty)) }, n.localToLocal = function (n, t, i) { return n = this.localToGlobal(n, t), i.globalToLocal(n.x, n.y) }, n.setTransform = function (n, t, i, r, u, f, e, o, s) { return this.x = n || 0, this.y = t || 0, this.scaleX = null == i ? 1 : i, this.scaleY = null == r ? 1 : r, this.rotation = u || 0, this.skewX = f || 0, this.skewY = e || 0, this.regX = o || 0, this.regY = s || 0, this }, n.getMatrix = function (n) { return (n ? n.identity() : new createjs.Matrix2D).appendTransform(this.x, this.y, this.scaleX, this.scaleY, this.rotation, this.skewX, this.skewY, this.regX, this.regY).appendProperties(this.alpha, this.shadow, this.compositeOperation) }, n.getConcatenatedMatrix = function (n) { n ? n.identity() : n = new createjs.Matrix2D; for (var t = this; null != t;) n.prependTransform(t.x, t.y, t.scaleX, t.scaleY, t.rotation, t.skewX, t.skewY, t.regX, t.regY).prependProperties(t.alpha, t.shadow, t.compositeOperation), t = t.parent; return n }, n.hitTest = function (n, i) { var r = t._hitTestContext, u; return r.setTransform(1, 0, 0, 1, -n, -i), this.draw(r), u = this._testHit(r), r.setTransform(1, 0, 0, 1, 0, 0), r.clearRect(0, 0, 2, 2), u }, n.set = function (n) { for (var t in n) this[t] = n[t]; return this }, n.clone = function () { var n = new t; return this.cloneProps(n), n }, n.toString = function () { return "[DisplayObject (name=" + this.name + ")]" }, n.cloneProps = function (n) { n.alpha = this.alpha, n.name = this.name, n.regX = this.regX, n.regY = this.regY, n.rotation = this.rotation, n.scaleX = this.scaleX, n.scaleY = this.scaleY, n.shadow = this.shadow, n.skewX = this.skewX, n.skewY = this.skewY, n.visible = this.visible, n.x = this.x, n.y = this.y, n.mouseEnabled = this.mouseEnabled, n.compositeOperation = this.compositeOperation, this.cacheCanvas && (n.cacheCanvas = this.cacheCanvas.cloneNode(!0), n.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0, 0, this.cacheCanvas.width, this.cacheCanvas.height), 0, 0)) }, n._applyShadow = function (n, t) { t = t || Shadow.identity, n.shadowColor = t.color, n.shadowOffsetX = t.offsetX, n.shadowOffsetY = t.offsetY, n.shadowBlur = t.blur }, n._tick = function (n) { this.onTick && this.onTick.apply(this, n); var t = this._listeners; t && t.tick && this.dispatchEvent({ type: "tick", params: n }) }, n._testHit = function (n) { try { var i = 1 < n.getImageData(0, 0, 1, 1).data[3] } catch (r) { if (!t.suppressCrossDomainErrors) throw "An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."; } return i }, n._applyFilters = function () { if (this.filters && 0 != this.filters.length && this.cacheCanvas) for (var t = this.filters.length, i = this.cacheCanvas.getContext("2d"), r = this.cacheCanvas.width, u = this.cacheCanvas.height, n = 0; n < t; n++) this.filters[n].applyFilter(i, 0, 0, r, u) }, n._hasMouseHandler = function (n) { var t = this._listeners; return !!(n & 1 && (this.onPress || this.onClick || this.onDoubleClick || t && (this.hasEventListener("mousedown") || this.hasEventListener("click") || this.hasEventListener("dblclick"))) || n & 2 && (this.onMouseOver || this.onMouseOut || this.cursor || t && (this.hasEventListener("mouseover") || this.hasEventListener("mouseout")))) }, createjs.DisplayObject = t }(), this.createjs = this.createjs || {}, function () { var t = function () { this.initialize() }, n = t.prototype = new createjs.DisplayObject; n.children = null, n.DisplayObject_initialize = n.initialize, n.initialize = function () { this.DisplayObject_initialize(), this.children = [] }, n.isVisible = function () { var n = this.cacheCanvas || this.children.length; return !(!this.visible || !(0 < this.alpha && 0 != this.scaleX && 0 != this.scaleY && n)) }, n.DisplayObject_draw = n.draw, n.draw = function (n, t) { var i; if (this.DisplayObject_draw(n, t)) return !0; for (var u = this.children.slice(0), r = 0, f = u.length; r < f; r++) i = u[r], i.isVisible() && (n.save(), i.updateContext(n), i.draw(n), n.restore()); return !0 }, n.addChild = function (n) { var t, i; if (null == n) return n; if (t = arguments.length, 1 < t) { for (i = 0; i < t; i++) this.addChild(arguments[i]); return arguments[t - 1] } return n.parent && n.parent.removeChild(n), n.parent = this, this.children.push(n), n }, n.addChildAt = function (n, t) { var i = arguments.length, u = arguments[i - 1], r; if (0 > u || u > this.children.length) return arguments[i - 2]; if (2 < i) { for (r = 0; r < i - 1; r++) this.addChildAt(arguments[r], u + r); return arguments[i - 2] } return n.parent && n.parent.removeChild(n), n.parent = this, this.children.splice(t, 0, n), n }, n.removeChild = function (n) { var r = arguments.length, t, i; if (1 < r) { for (t = !0, i = 0; i < r; i++) t = t && this.removeChild(arguments[i]); return t } return this.removeChildAt(this.children.indexOf(n)) }, n.removeChildAt = function (n) { var i = arguments.length, r, u, t; if (1 < i) { for (r = [], t = 0; t < i; t++) r[t] = arguments[t]; for (r.sort(function (n, t) { return t - n }), u = !0, t = 0; t < i; t++) u = u && this.removeChildAt(r[t]); return u } return 0 > n || n > this.children.length - 1 ? !1 : ((i = this.children[n]) && (i.parent = null), this.children.splice(n, 1), !0) }, n.removeAllChildren = function () { for (var n = this.children; n.length;) n.pop().parent = null }, n.getChildAt = function (n) { return this.children[n] }, n.getChildByName = function (n) { for (var i = this.children, t = 0, r = i.length; t < r; t++) if (i[t].name == n) return i[t]; return null }, n.sortChildren = function (n) { this.children.sort(n) }, n.getChildIndex = function (n) { return this.children.indexOf(n) }, n.getNumChildren = function () { return this.children.length }, n.swapChildrenAt = function (n, t) { var i = this.children, r = i[n], u = i[t]; r && u && (i[n] = u, i[t] = r) }, n.swapChildren = function (n, t) { for (var r = this.children, u, f, i = 0, e = r.length; i < e && !(r[i] == n && (u = i), r[i] == t && (f = i), null != u && null != f) ; i++); i != e && (r[u] = t, r[f] = n) }, n.setChildIndex = function (n, t) { var r = this.children, u = r.length, i; if (!(n.parent != this || 0 > t || t >= u)) { for (i = 0; i < u && r[i] != n; i++); i == u || i == t || (r.splice(i, 1), t < i && t--, r.splice(t, 0, n)) } }, n.contains = function (n) { for (; n;) { if (n == this) return !0; n = n.parent } return !1 }, n.hitTest = function (n, t) { return null != this.getObjectUnderPoint(n, t) }, n.getObjectsUnderPoint = function (n, t) { var i = [], r = this.localToGlobal(n, t); return this._getObjectsUnderPoint(r.x, r.y, i), i }, n.getObjectUnderPoint = function (n, t) { var i = this.localToGlobal(n, t); return this._getObjectsUnderPoint(i.x, i.y) }, n.clone = function (n) { var i = new t, u; if (this.cloneProps(i), n) for (var f = i.children = [], r = 0, e = this.children.length; r < e; r++) u = this.children[r].clone(n), u.parent = i, f.push(u); return i }, n.toString = function () { return "[Container (name=" + this.name + ")]" }, n.DisplayObject__tick = n._tick, n._tick = function (n) { for (var i, t = this.children.length - 1; 0 <= t; t--) i = this.children[t], i._tick && i._tick(n); this.DisplayObject__tick(n) }, n._getObjectsUnderPoint = function (n, i, r, u) { var s = createjs.DisplayObject._hitTestContext, f = this._matrix, h = this._hasMouseHandler(u), c, e, o, l; if (!this.hitArea && this.cacheCanvas && h && (this.getConcatenatedMatrix(f), s.setTransform(f.a, f.b, f.c, f.d, f.tx - n, f.ty - i), s.globalAlpha = f.alpha, this.draw(s), this._testHit(s))) return s.setTransform(1, 0, 0, 1, 0, 0), s.clearRect(0, 0, 2, 2), this; for (c = this.children.length - 1; 0 <= c; c--) if (e = this.children[c], o = e.hitArea, e.visible && !(!o && !e.isVisible() || u && !e.mouseEnabled)) if (l = u && e._hasMouseHandler(u), e instanceof t && (!o || !l)) { if (h) { if (e = e._getObjectsUnderPoint(n, i)) return this } else if (e = e._getObjectsUnderPoint(n, i, r, u), !r && e) return e } else if ((!u || h || l) && (e.getConcatenatedMatrix(f), o && (f.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation, o.skewX, o.skewY, o.regX, o.regY), f.alpha = o.alpha), s.globalAlpha = f.alpha, s.setTransform(f.a, f.b, f.c, f.d, f.tx - n, f.ty - i), (o || e).draw(s), this._testHit(s))) { if (s.setTransform(1, 0, 0, 1, 0, 0), s.clearRect(0, 0, 2, 2), h) return this; if (r) r.push(e); else return e } return null }, createjs.Container = t }(), this.createjs = this.createjs || {}, function () { var t = function (n) { this.initialize(n) }, n = t.prototype = new createjs.Container; t._snapToPixelEnabled = !1, n.autoClear = !0, n.canvas = null, n.mouseX = 0, n.mouseY = 0, n.onMouseMove = null, n.onMouseUp = null, n.onMouseDown = null, n.snapToPixelEnabled = !1, n.mouseInBounds = !1, n.tickOnUpdate = !0, n.mouseMoveOutside = !1, n._pointerData = null, n._pointerCount = 0, n._primaryPointerID = null, n._mouseOverIntervalID = null, n.Container_initialize = n.initialize, n.initialize = function (n) { this.Container_initialize(), this.canvas = "string" == typeof n ? document.getElementById(n) : n, this._pointerData = {}, this.enableDOMEvents(!0) }, n.update = function () { if (this.canvas) { this.autoClear && this.clear(), t._snapToPixelEnabled = this.snapToPixelEnabled, this.tickOnUpdate && this._tick(arguments.length ? arguments : null); var n = this.canvas.getContext("2d"); n.save(), this.updateContext(n), this.draw(n, !1), n.restore() } }, n.tick = n.update, n.handleEvent = function (n) { "tick" == n.type && this.update(n) }, n.clear = function () { if (this.canvas) { var n = this.canvas.getContext("2d"); n.setTransform(1, 0, 0, 1, 0, 0), n.clearRect(0, 0, this.canvas.width + 1, this.canvas.height + 1) } }, n.toDataURL = function (n, t) { var e, o; t || (t = "image/png"); var i = this.canvas.getContext("2d"), r = this.canvas.width, u = this.canvas.height, f; return n && (f = i.getImageData(0, 0, r, u), e = i.globalCompositeOperation, i.globalCompositeOperation = "destination-over", i.fillStyle = n, i.fillRect(0, 0, r, u)), o = this.canvas.toDataURL(t), n && (i.clearRect(0, 0, r + 1, u + 1), i.putImageData(f, 0, 0), i.globalCompositeOperation = e), o }, n.enableMouseOver = function (n) { if (this._mouseOverIntervalID && (clearInterval(this._mouseOverIntervalID), this._mouseOverIntervalID = null), null == n) n = 20; else if (0 >= n) return; var t = this; this._mouseOverIntervalID = setInterval(function () { t._testMouseOver() }, 1e3 / Math.min(50, n)) }, n.enableDOMEvents = function (n) { var i, r, t; if (null == n && (n = !0), t = this._eventListeners, !n && t) { for (i in t) n = t[i], n.t.removeEventListener(i, n.f); this._eventListeners = null } else if (n && !t && this.canvas) { n = window.addEventListener ? window : document, r = this, t = this._eventListeners = {}, t.mouseup = { t: n, f: function (n) { r._handleMouseUp(n) } }, t.mousemove = { t: n, f: function (n) { r._handleMouseMove(n) } }, t.dblclick = { t: n, f: function (n) { r._handleDoubleClick(n) } }, t.mousedown = { t: this.canvas, f: function (n) { r._handleMouseDown(n) } }; for (i in t) n = t[i], n.t.addEventListener(i, n.f) } }, n.clone = function () { var n = new t(null); return this.cloneProps(n), n }, n.toString = function () { return "[Stage (name=" + this.name + ")]" }, n._getPointerData = function (n) { var t = this._pointerData[n]; return t || (t = this._pointerData[n] = { x: 0, y: 0 }, null != this._primaryPointerID && -1 != this._primaryPointerID) || (this._primaryPointerID = n), t }, n._handleMouseMove = function (n) { n || (n = window.event), this._handlePointerMove(-1, n, n.pageX, n.pageY) }, n._handlePointerMove = function (n, t, i, r) { if (this.canvas) { var u = this._getPointerData(n), f = u.inBounds; this._updatePointerPosition(n, i, r), (f || u.inBounds || this.mouseMoveOutside) && ((this.onMouseMove || this.hasEventListener("stagemousemove")) && (i = new createjs.MouseEvent("stagemousemove", u.x, u.y, this, t, n, n == this._primaryPointerID, u.rawX, u.rawY), this.onMouseMove && this.onMouseMove(i), this.dispatchEvent(i)), (r = u.event) && (r.onMouseMove || r.hasEventListener("mousemove")) && (i = new createjs.MouseEvent("mousemove", u.x, u.y, r.target, t, n, n == this._primaryPointerID, u.rawX, u.rawY), r.onMouseMove && r.onMouseMove(i), r.dispatchEvent(i, r.target))) } }, n._updatePointerPosition = function (n, t, i) { var r = this._getElementRect(this.canvas), u, f; t -= r.left, i -= r.top, u = this.canvas.width, f = this.canvas.height, t /= (r.right - r.left) / u, i /= (r.bottom - r.top) / f, r = this._getPointerData(n), (r.inBounds = 0 <= t && 0 <= i && t <= u - 1 && i <= f - 1) ? (r.x = t, r.y = i) : this.mouseMoveOutside && (r.x = 0 > t ? 0 : t > u - 1 ? u - 1 : t, r.y = 0 > i ? 0 : i > f - 1 ? f - 1 : i), r.rawX = t, r.rawY = i, n == this._primaryPointerID && (this.mouseX = r.x, this.mouseY = r.y, this.mouseInBounds = r.inBounds) }, n._getElementRect = function (n) { var i; try { i = n.getBoundingClientRect() } catch (o) { i = { top: n.offsetTop, left: n.offsetLeft, width: n.offsetWidth, height: n.offsetHeight } } var r = (window.pageXOffset || document.scrollLeft || 0) - (document.clientLeft || document.body.clientLeft || 0), u = (window.pageYOffset || document.scrollTop || 0) - (document.clientTop || document.body.clientTop || 0), t = window.getComputedStyle ? getComputedStyle(n) : n.currentStyle; n = parseInt(t.paddingLeft) + parseInt(t.borderLeftWidth); var f = parseInt(t.paddingTop) + parseInt(t.borderTopWidth), e = parseInt(t.paddingRight) + parseInt(t.borderRightWidth), t = parseInt(t.paddingBottom) + parseInt(t.borderBottomWidth); return { left: i.left + r + n, right: i.right + r - e, top: i.top + u + f, bottom: i.bottom + u - t } }, n._handleMouseUp = function (n) { this._handlePointerUp(-1, n, !1) }, n._handlePointerUp = function (n, t, i) { var r = this._getPointerData(n), f, u; (this.onMouseMove || this.hasEventListener("stagemouseup")) && (f = new createjs.MouseEvent("stagemouseup", r.x, r.y, this, t, n, n == this._primaryPointerID, r.rawX, r.rawY), this.onMouseUp && this.onMouseUp(f), this.dispatchEvent(f)), u = r.event, u && (u.onMouseUp || u.hasEventListener("mouseup")) && (f = new createjs.MouseEvent("mouseup", r.x, r.y, u.target, t, n, n == this._primaryPointerID, r.rawX, r.rawY), u.onMouseUp && u.onMouseUp(f), u.dispatchEvent(f, u.target)), (u = r.target) && (u.onClick || u.hasEventListener("click")) && this._getObjectsUnderPoint(r.x, r.y, null, !0, this._mouseOverIntervalID ? 3 : 1) == u && (f = new createjs.MouseEvent("click", r.x, r.y, u, t, n, n == this._primaryPointerID, r.rawX, r.rawY), u.onClick && u.onClick(f), u.dispatchEvent(f)), i ? (n == this._primaryPointerID && (this._primaryPointerID = null), delete this._pointerData[n]) : r.event = r.target = null }, n._handleMouseDown = function (n) { this._handlePointerDown(-1, n, !1) }, n._handlePointerDown = function (n, t, i, r) { var u = this._getPointerData(n); null != r && this._updatePointerPosition(n, i, r), (this.onMouseDown || this.hasEventListener("stagemousedown")) && (i = new createjs.MouseEvent("stagemousedown", u.x, u.y, this, t, n, n == this._primaryPointerID, u.rawX, u.rawY), this.onMouseDown && this.onMouseDown(i), this.dispatchEvent(i)), (r = this._getObjectsUnderPoint(u.x, u.y, null, this._mouseOverIntervalID ? 3 : 1)) && (u.target = r, r.onPress || r.hasEventListener("mousedown")) && (i = new createjs.MouseEvent("mousedown", u.x, u.y, r, t, n, n == this._primaryPointerID, u.rawX, u.rawY), r.onPress && r.onPress(i), r.dispatchEvent(i), i.onMouseMove || i.onMouseUp || i.hasEventListener("mousemove") || i.hasEventListener("mouseup")) && (u.event = i) }, n._testMouseOver = function () { var n, t, i, r; -1 != this._primaryPointerID || this.mouseX == this._mouseOverX && this.mouseY == this._mouseOverY && this.mouseInBounds || (n = null, this.mouseInBounds && (n = this._getObjectsUnderPoint(this.mouseX, this.mouseY, null, 3), this._mouseOverX = this.mouseX, this._mouseOverY = this.mouseY), t = this._mouseOverTarget, t != n && (i = this._getPointerData(-1), t && (t.onMouseOut || t.hasEventListener("mouseout")) && (r = new createjs.MouseEvent("mouseout", i.x, i.y, t, null, -1, i.rawX, i.rawY), t.onMouseOut && t.onMouseOut(r), t.dispatchEvent(r)), t && (this.canvas.style.cursor = ""), n && (n.onMouseOver || n.hasEventListener("mouseover")) && (r = new createjs.MouseEvent("mouseover", i.x, i.y, n, null, -1, i.rawX, i.rawY), n.onMouseOver && n.onMouseOver(r), n.dispatchEvent(r)), n && (this.canvas.style.cursor = n.cursor || ""), this._mouseOverTarget = n)) }, n._handleDoubleClick = function (n) { var i = this._getPointerData(-1), t = this._getObjectsUnderPoint(i.x, i.y, null, this._mouseOverIntervalID ? 3 : 1); t && (t.onDoubleClick || t.hasEventListener("dblclick")) && (evt = new createjs.MouseEvent("dblclick", i.x, i.y, t, n, -1, !0, i.rawX, i.rawY), t.onDoubleClick && t.onDoubleClick(evt), t.dispatchEvent(evt)) }, createjs.Stage = t }(), this.createjs = this.createjs || {}, function () { var t = function (n) { this.initialize(n) }, n = t.prototype = new createjs.DisplayObject; n.image = null, n.snapToPixel = !0, n.sourceRect = null, n.DisplayObject_initialize = n.initialize, n.initialize = function (n) { this.DisplayObject_initialize(), "string" == typeof n ? (this.image = new Image, this.image.src = n) : this.image = n }, n.isVisible = function () { var n = this.cacheCanvas || this.image && (this.image.complete || this.image.getContext || 2 <= this.image.readyState); return !(!this.visible || !(0 < this.alpha && 0 != this.scaleX && 0 != this.scaleY && n)) }, n.DisplayObject_draw = n.draw, n.draw = function (n, t) { if (this.DisplayObject_draw(n, t)) return !0; var i = this.sourceRect; return i ? n.drawImage(this.image, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height) : n.drawImage(this.image, 0, 0), !0 }, n.clone = function () { var n = new t(this.image); return this.sourceRect && (n.sourceRect = this.sourceRect.clone()), this.cloneProps(n), n }, n.toString = function () { return "[Bitmap (name=" + this.name + ")]" }, createjs.Bitmap = t }(), this.createjs = this.createjs || {}, function () { var t = function (n) { this.initialize(n) }, n = t.prototype = new createjs.DisplayObject; n.onAnimationEnd = null, n.currentFrame = -1, n.currentAnimation = null, n.paused = !0, n.spriteSheet = null, n.snapToPixel = !0, n.offset = 0, n.currentAnimationFrame = 0, n.addEventListener = null, n.removeEventListener = null, n.removeAllEventListeners = null, n.dispatchEvent = null, n.hasEventListener = null, n._listeners = null, createjs.EventDispatcher.initialize(n), n._advanceCount = 0, n._animation = null, n.DisplayObject_initialize = n.initialize, n.initialize = function (n) { this.DisplayObject_initialize(), this.spriteSheet = n }, n.isVisible = function () { var n = this.cacheCanvas || this.spriteSheet.complete && 0 <= this.currentFrame; return !(!this.visible || !(0 < this.alpha && 0 != this.scaleX && 0 != this.scaleY && n)) }, n.DisplayObject_draw = n.draw, n.draw = function (n, t) { var r, i; return this.DisplayObject_draw(n, t) ? !0 : (this._normalizeFrame(), r = this.spriteSheet.getFrame(this.currentFrame), r ? (i = r.rect, n.drawImage(r.image, i.x, i.y, i.width, i.height, -r.regX, -r.regY, i.width, i.height), !0) : void 0) }, n.play = function () { this.paused = !1 }, n.stop = function () { this.paused = !0 }, n.gotoAndPlay = function (n) { this.paused = !1, this._goto(n) }, n.gotoAndStop = function (n) { this.paused = !0, this._goto(n) }, n.advance = function () { this._animation ? this.currentAnimationFrame++ : this.currentFrame++, this._normalizeFrame() }, n.getBounds = function () { return this.spriteSheet.getFrameBounds(this.currentFrame) }, n.clone = function () { var n = new t(this.spriteSheet); return this.cloneProps(n), n }, n.toString = function () { return "[BitmapAnimation (name=" + this.name + ")]" }, n.DisplayObject__tick = n._tick, n._tick = function (n) { var t = this._animation ? this._animation.frequency : 1; this.paused || 0 != (++this._advanceCount + this.offset) % t || this.advance(), this.DisplayObject__tick(n) }, n._normalizeFrame = function () { var n = this._animation, r = this.currentFrame, u = this.paused, t, i; n ? (t = n.frames.length, this.currentAnimationFrame >= t) ? (i = n.next, this._dispatchAnimationEnd(n, r, u, i, t - 1) || (i ? this._goto(i) : (this.paused = !0, this.currentAnimationFrame = n.frames.length - 1, this.currentFrame = n.frames[this.currentAnimationFrame]))) : this.currentFrame = n.frames[this.currentAnimationFrame] : (t = this.spriteSheet.getNumFrames(), r >= t && !this._dispatchAnimationEnd(n, r, u, t - 1) && (this.currentFrame = 0)) }, n._dispatchAnimationEnd = function (n, t, i, r, u) { var f = n ? n.name : null; return this.onAnimationEnd && this.onAnimationEnd(this, f, r), this.dispatchEvent({ type: "animationend", name: f, next: r }), !i && this.paused && (this.currentAnimationFrame = u), this.paused != i || this._animation != n || this.currentFrame != t }, n.DisplayObject_cloneProps = n.cloneProps, n.cloneProps = function (n) { this.DisplayObject_cloneProps(n), n.onAnimationEnd = this.onAnimationEnd, n.currentFrame = this.currentFrame, n.currentAnimation = this.currentAnimation, n.paused = this.paused, n.offset = this.offset, n._animation = this._animation, n.currentAnimationFrame = this.currentAnimationFrame }, n._goto = function (n) { if (isNaN(n)) { var t = this.spriteSheet.getAnimation(n); t && (this.currentAnimationFrame = 0, this._animation = t, this.currentAnimation = n, this._normalizeFrame()) } else this.currentAnimation = this._animation = null, this.currentFrame = n }, createjs.BitmapAnimation = t }(), this.createjs = this.createjs || {}, function () { var t = function (n) { this.initialize(n) }, n = t.prototype = new createjs.DisplayObject; n.graphics = null, n.DisplayObject_initialize = n.initialize, n.initialize = function (n) { this.DisplayObject_initialize(), this.graphics = n ? n : new createjs.Graphics }, n.isVisible = function () { var n = this.cacheCanvas || this.graphics && !this.graphics.isEmpty(); return !(!this.visible || !(0 < this.alpha && 0 != this.scaleX && 0 != this.scaleY && n)) }, n.DisplayObject_draw = n.draw, n.draw = function (n, t) { return this.DisplayObject_draw(n, t) ? !0 : (this.graphics.draw(n), !0) }, n.clone = function (n) { return n = new t(n && this.graphics ? this.graphics.clone() : this.graphics), this.cloneProps(n), n }, n.toString = function () { return "[Shape (name=" + this.name + ")]" }, createjs.Shape = t }(), this.createjs = this.createjs || {}, function () { var t = function (n, t, i) { this.initialize(n, t, i) }, n = t.prototype = new createjs.DisplayObject; t._workingContext = (createjs.createCanvas ? createjs.createCanvas() : document.createElement("canvas")).getContext("2d"), n.text = "", n.font = null, n.color = "#000", n.textAlign = "left", n.textBaseline = "top", n.maxWidth = null, n.outline = !1, n.lineHeight = 0, n.lineWidth = null, n.DisplayObject_initialize = n.initialize, n.initialize = function (n, t, i) { this.DisplayObject_initialize(), this.text = n, this.font = t, this.color = i ? i : "#000" }, n.isVisible = function () { var n = this.cacheCanvas || null != this.text && "" !== this.text; return !(!this.visible || !(0 < this.alpha && 0 != this.scaleX && 0 != this.scaleY && n)) }, n.DisplayObject_draw = n.draw, n.draw = function (n, t) { return this.DisplayObject_draw(n, t) ? !0 : (this.outline ? n.strokeStyle = this.color : n.fillStyle = this.color, n.font = this.font, n.textAlign = this.textAlign || "start", n.textBaseline = this.textBaseline || "alphabetic", this._drawText(n), !0) }, n.getMeasuredWidth = function () { return this._getWorkingContext().measureText(this.text).width }, n.getMeasuredLineHeight = function () { return 1.2 * this._getWorkingContext().measureText("M").width }, n.getMeasuredHeight = function () { return this._drawText() * (this.lineHeight || this.getMeasuredLineHeight()) }, n.clone = function () { var n = new t(this.text, this.font, this.color); return this.cloneProps(n), n }, n.toString = function () { return "[Text (text=" + (20 < this.text.length ? this.text.substr(0, 17) + "..." : this.text) + ")]" }, n.DisplayObject_cloneProps = n.cloneProps, n.cloneProps = function (n) { this.DisplayObject_cloneProps(n), n.textAlign = this.textAlign, n.textBaseline = this.textBaseline, n.maxWidth = this.maxWidth, n.outline = this.outline, n.lineHeight = this.lineHeight, n.lineWidth = this.lineWidth }, n._getWorkingContext = function () { var n = t._workingContext; return n.font = this.font, n.textAlign = this.textAlign || "start", n.textBaseline = this.textBaseline || "alphabetic", n }, n._drawText = function (n) { var e = !!n, t; e || (n = this._getWorkingContext()); for (var o = String(this.text).split(/(?:\r\n|\r|\n)/), s = this.lineHeight || this.getMeasuredLineHeight(), r = 0, u = 0, h = o.length; u < h; u++) { if (t = n.measureText(o[u]).width, null == this.lineWidth || t < this.lineWidth) e && this._drawTextLine(n, o[u], r * s); else { for (var t = o[u].split(/(\s)/), f = t[0], i = 1, c = t.length; i < c; i += 2) n.measureText(f + t[i] + t[i + 1]).width > this.lineWidth ? (e && this._drawTextLine(n, f, r * s), r++, f = t[i + 1]) : f += t[i] + t[i + 1]; e && this._drawTextLine(n, f, r * s) } r++ } return r }, n._drawTextLine = function (n, t, i) { this.outline ? n.strokeText(t, 0, i, this.maxWidth || 65535) : n.fillText(t, 0, i, this.maxWidth || 65535) }, createjs.Text = t }(), this.createjs = this.createjs || {}, function () { var n = function () { throw "SpriteSheetUtils cannot be instantiated"; }; n._workingCanvas = createjs.createCanvas ? createjs.createCanvas() : document.createElement("canvas"), n._workingContext = n._workingCanvas.getContext("2d"), n.addFlippedFrames = function (t, i, r, u) { if (i || r || u) { var f = 0; i && n._flip(t, ++f, !0, !1), r && n._flip(t, ++f, !1, !0), u && n._flip(t, ++f, !0, !0) } }, n.extractFrame = function (t, i) { var u, r, f; return (isNaN(i) && (i = t.getAnimation(i).frames[0]), u = t.getFrame(i), !u) ? null : (r = u.rect, f = n._workingCanvas, f.width = r.width, f.height = r.height, n._workingContext.drawImage(u.image, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height), u = new Image, u.src = f.toDataURL("image/png"), u) }, n.mergeAlpha = function (n, t, i) { i || (i = createjs.createCanvas ? createjs.createCanvas() : document.createElement("canvas")), i.width = Math.max(t.width, n.width), i.height = Math.max(t.height, n.height); var r = i.getContext("2d"); return r.save(), r.drawImage(n, 0, 0), r.globalCompositeOperation = "destination-in", r.drawImage(t, 0, 0), r.restore(), i }, n._flip = function (t, i, r, u) { for (var f, s, a = t._images, c = n._workingCanvas, e = n._workingContext, l = a.length / i, o = 0; o < l; o++) f = a[o], f.__tmp = o, e.setTransform(1, 0, 0, 1, 0, 0), e.clearRect(0, 0, c.width + 1, c.height + 1), c.width = f.width, c.height = f.height, e.setTransform(r ? -1 : 1, 0, 0, u ? -1 : 1, r ? f.width : 0, u ? f.height : 0), e.drawImage(f, 0, 0), s = new Image, s.src = c.toDataURL("image/png"), s.width = f.width, s.height = f.height, a.push(s); for (e = t._frames, c = e.length / i, o = 0; o < c; o++) { var f = e[o], h = f.rect.clone(), s = a[f.image.__tmp + l * i], v = { image: s, rect: h, regX: f.regX, regY: f.regY }; r && (h.x = s.width - h.x - h.width, v.regX = h.width - f.regX), u && (h.y = s.height - h.y - h.height, v.regY = h.height - f.regY), e.push(v) } for (r = "_" + (r ? "h" : "") + (u ? "v" : ""), u = t._animations, t = t._data, a = u.length / i, o = 0; o < a; o++) { for (e = u[o], f = t[e], l = { name: e + r, frequency: f.frequency, next: f.next, frames: [] }, f.next && (l.next += r), e = f.frames, f = 0, s = e.length; f < s; f++) l.frames.push(e[f] + c * i); t[l.name] = l, u.push(l.name) } }, createjs.SpriteSheetUtils = n }(), this.createjs = this.createjs || {}, function () { var t = function () { this.initialize() }, n = t.prototype; t.ERR_DIMENSIONS = "frame dimensions exceed max spritesheet dimensions", t.ERR_RUNNING = "a build is already running", n.maxWidth = 2048, n.maxHeight = 2048, n.spriteSheet = null, n.scale = 1, n.padding = 1, n.timeSlice = .3, n.progress = -1, n.onComplete = null, n.onProgress = null, n.addEventListener = null, n.removeEventListener = null, n.removeAllEventListeners = null, n.dispatchEvent = null, n.hasEventListener = null, n._listeners = null, createjs.EventDispatcher.initialize(n), n._frames = null, n._animations = null, n._data = null, n._nextFrameIndex = 0, n._index = 0, n._timerID = null, n._scale = 1, n.initialize = function () { this._frames = [], this._animations = {} }, n.addFrame = function (n, i, r, u, f, e) { if (this._data) throw t.ERR_RUNNING; return (i = i || n.bounds || n.nominalBounds, !i && n.getBounds && (i = n.getBounds()), !i) ? null : (r = r || 1, this._frames.push({ source: n, sourceRect: i, scale: r, funct: u, params: f, scope: e, index: this._frames.length, height: i.height * r }) - 1) }, n.addAnimation = function (n, i, r, u) { if (this._data) throw t.ERR_RUNNING; this._animations[n] = { frames: i, next: r, frequency: u } }, n.addMovieClip = function (n, i, r) { var e, f, s, u, o; if (this._data) throw t.ERR_RUNNING; if (e = n.frameBounds, f = i || n.bounds || n.nominalBounds, !f && n.getBounds && (f = n.getBounds()), !f && !e) return null; for (i = this._frames.length, s = n.timeline.duration, u = 0; u < s; u++) this.addFrame(n, e && e[u] ? e[u] : f, r, function (n) { var t = this.actionsEnabled; this.actionsEnabled = !1, this.gotoAndStop(n), this.actionsEnabled = t }, [u], n); u = n.timeline._labels, n = []; for (o in u) n.push({ index: u[o], label: o }); if (n.length) for (n.sort(function (n, t) { return n.index - t.index }), u = 0, o = n.length; u < o; u++) { r = n[u].label; for (var e = i + (u == o - 1 ? s : n[u + 1].index), f = [], h = i + n[u].index; h < e; h++) f.push(h); this.addAnimation(r, f, !0) } }, n.build = function () { if (this._data) throw t.ERR_RUNNING; for (this._startBuild() ; this._drawNext() ;); return this._endBuild(), this.spriteSheet }, n.buildAsync = function (n) { if (this._data) throw t.ERR_RUNNING; this.timeSlice = n, this._startBuild(); var i = this; this._timerID = setTimeout(function () { i._run() }, 50 - 50 * Math.max(.01, Math.min(.99, this.timeSlice || .3))) }, n.stopAsync = function () { clearTimeout(this._timerID), this._data = null }, n.clone = function () { throw "SpriteSheetBuilder cannot be cloned."; }, n.toString = function () { return "[SpriteSheetBuilder]" }, n._startBuild = function () { var s = this.padding || 0, e, n, i, f; if (this.progress = 0, this.spriteSheet = null, this._index = 0, this._scale = this.scale, e = [], this._data = { images: [], frames: e, animations: this._animations }, n = this._frames.slice(), n.sort(function (n, t) { return n.height <= t.height ? -1 : 1 }), n[n.length - 1].height + 2 * s > this.maxHeight) throw t.ERR_DIMENSIONS; for (var r = 0, u = 0, o = 0; n.length;) i = this._fillRow(n, r, o, e, s), i.w > u && (u = i.w), r += i.h, i.h && n.length || (f = createjs.createCanvas ? createjs.createCanvas() : document.createElement("canvas"), f.width = this._getSize(u, this.maxWidth), f.height = this._getSize(r, this.maxHeight), this._data.images[o] = f, i.h || (u = r = 0, o++)) }, n._getSize = function (n, t) { for (var i = 4; Math.pow(2, ++i) < n;); return Math.min(t, Math.pow(2, i)) }, n._fillRow = function (n, i, r, u, f) { var y = this.maxWidth, a = this.maxHeight; i += f; for (var a = a - i, h = f, v = 0, c = n.length - 1; 0 <= c; c--) { var o = n[c], s = this._scale * o.scale, e = o.sourceRect, p = o.source, w = Math.floor(s * e.x - f), b = Math.floor(s * e.y - f), l = Math.ceil(s * e.height + 2 * f), e = Math.ceil(s * e.width + 2 * f); if (e > y) throw t.ERR_DIMENSIONS; l > a || h + e > y || (o.img = r, o.rect = new createjs.Rectangle(h, i, e, l), v = v || l, n.splice(c, 1), u[o.index] = [h, i, e, l, r, Math.round(-w + s * p.regX - f), Math.round(-b + s * p.regY - f)], h += e) } return { w: h, h: v } }, n._endBuild = function () { this.spriteSheet = new createjs.SpriteSheet(this._data), this._data = null, this.progress = 1, this.onComplete && this.onComplete(this), this.dispatchEvent("complete") }, n._run = function () { for (var i, n = 50 * Math.max(.01, Math.min(.99, this.timeSlice || .3)), r = (new Date).getTime() + n, t = !1; r > (new Date).getTime() ;) if (!this._drawNext()) { t = !0; break } t ? this._endBuild() : (i = this, this._timerID = setTimeout(function () { i._run() }, 50 - n)), n = this.progress = this._index / this._frames.length, this.onProgress && this.onProgress(this, n), this.dispatchEvent({ type: "progress", progress: n }) }, n._drawNext = function () { var n = this._frames[this._index], r = n.scale * this._scale, i = n.rect, u = n.sourceRect, t = this._data.images[n.img].getContext("2d"); return n.funct && n.funct.apply(n.scope, n.params), t.save(), t.beginPath(), t.rect(i.x, i.y, i.width, i.height), t.clip(), t.translate(Math.ceil(i.x - u.x * r), Math.ceil(i.y - u.y * r)), t.scale(r, r), n.source.draw(t), t.restore(), ++this._index < this._frames.length }, createjs.SpriteSheetBuilder = t }(), this.createjs = this.createjs || {}, function () { var t = function (n) { this.initialize(n) }, n = t.prototype = new createjs.DisplayObject; n.htmlElement = null, n._oldMtx = null, n.DisplayObject_initialize = n.initialize, n.initialize = function (n) { "string" == typeof n && (n = document.getElementById(n)), this.DisplayObject_initialize(), this.mouseEnabled = !1, this.htmlElement = n, n = n.style, n.position = "absolute", n.transformOrigin = n.WebkitTransformOrigin = n.msTransformOrigin = n.MozTransformOrigin = n.OTransformOrigin = "0% 0%" }, n.isVisible = function () { return null != this.htmlElement }, n.draw = function () { var n, i, t; if (null != this.htmlElement) { if (n = this.getConcatenatedMatrix(this._matrix), i = this.htmlElement.style, this.visible) i.visibility = "visible"; else return !0; return t = this._oldMtx || {}, t.alpha != n.alpha && (i.opacity = "" + n.alpha, t.alpha = n.alpha), (t.tx != n.tx || t.ty != n.ty || t.a != n.a || t.b != n.b || t.c != n.c || t.d != n.d) && (i.transform = i.WebkitTransform = i.OTransform = i.msTransform = ["matrix(" + n.a, n.b, n.c, n.d, n.tx + .5 | 0, (n.ty + .5 | 0) + ")"].join(), i.MozTransform = ["matrix(" + n.a, n.b, n.c, n.d, (n.tx + .5 | 0) + "px", (n.ty + .5 | 0) + "px)"].join(), this._oldMtx = n.clone()), !0 } }, n.cache = function () { }, n.uncache = function () { }, n.updateCache = function () { }, n.hitTest = function () { }, n.localToGlobal = function () { }, n.globalToLocal = function () { }, n.localToLocal = function () { }, n.clone = function () { throw "DOMElement cannot be cloned."; }, n.toString = function () { return "[DOMElement (name=" + this.name + ")]" }, n.DisplayObject__tick = n._tick, n._tick = function (n) { this.htmlElement.style.visibility = "hidden", this.DisplayObject__tick(n) }, createjs.DOMElement = t }(), this.createjs = this.createjs || {}, function () { var t = function () { this.initialize() }, n = t.prototype; n.initialize = function () { }, n.getBounds = function () { return new createjs.Rectangle(0, 0, 0, 0) }, n.applyFilter = function () { }, n.toString = function () { return "[Filter]" }, n.clone = function () { return new t }, createjs.Filter = t }(), this.createjs = this.createjs || {}, function () { var n = function () { throw "Touch cannot be instantiated"; }; n.isSupported = function () { return "ontouchstart" in window || window.navigator.msPointerEnabled }, n.enable = function (t, i, r) { return !t || !t.canvas || !n.isSupported() ? !1 : (t.__touch = { pointers: {}, multitouch: !i, preventDefault: !r, count: 0 }, "ontouchstart" in window ? n._IOS_enable(t) : window.navigator.msPointerEnabled && n._IE_enable(t), !0) }, n.disable = function (t) { t && ("ontouchstart" in window ? n._IOS_disable(t) : window.navigator.msPointerEnabled && n._IE_disable(t)) }, n._IOS_enable = function (t) { var i = t.canvas, r = t.__touch.f = function (i) { n._IOS_handleEvent(t, i) }; i.addEventListener("touchstart", r, !1), i.addEventListener("touchmove", r, !1), i.addEventListener("touchend", r, !1), i.addEventListener("touchcancel", r, !1) }, n._IOS_disable = function (n) { var t = n.canvas; t && (n = n.__touch.f, t.removeEventListener("touchstart", n, !1), t.removeEventListener("touchmove", n, !1), t.removeEventListener("touchend", n, !1), t.removeEventListener("touchcancel", n, !1)) }, n._IOS_handleEvent = function (n, t) { var i, u; if (n) { n.__touch.preventDefault && t.preventDefault && t.preventDefault(); for (var e = t.changedTouches, r = t.type, f = 0, o = e.length; f < o; f++) i = e[f], u = i.identifier, i.target == n.canvas && ("touchstart" == r ? this._handleStart(n, u, t, i.pageX, i.pageY) : "touchmove" == r ? this._handleMove(n, u, t, i.pageX, i.pageY) : ("touchend" == r || "touchcancel" == r) && this._handleEnd(n, u, t)) } }, n._IE_enable = function (t) { var r = t.canvas, i = t.__touch.f = function (i) { n._IE_handleEvent(t, i) }; r.addEventListener("MSPointerDown", i, !1), window.addEventListener("MSPointerMove", i, !1), window.addEventListener("MSPointerUp", i, !1), window.addEventListener("MSPointerCancel", i, !1), t.__touch.preventDefault && (r.style.msTouchAction = "none"), t.__touch.activeIDs = {} }, n._IE_disable = function (n) { var t = n.__touch.f; window.removeEventListener("MSPointerMove", t, !1), window.removeEventListener("MSPointerUp", t, !1), window.removeEventListener("MSPointerCancel", t, !1), n.canvas && n.canvas.removeEventListener("MSPointerDown", t, !1) }, n._IE_handleEvent = function (n, t) { if (n) { n.__touch.preventDefault && t.preventDefault && t.preventDefault(); var r = t.type, i = t.pointerId, u = n.__touch.activeIDs; "MSPointerDown" == r ? t.srcElement == n.canvas && (u[i] = !0, this._handleStart(n, i, t, t.pageX, t.pageY)) : u[i] && ("MSPointerMove" == r ? this._handleMove(n, i, t, t.pageX, t.pageY) : ("MSPointerUp" == r || "MSPointerCancel" == r) && (delete u[i], this._handleEnd(n, i, t))) } }, n._handleStart = function (n, t, i, r, u) { var f = n.__touch, e; (f.multitouch || !f.count) && (e = f.pointers, e[t] || (e[t] = !0, f.count++, n._handlePointerDown(t, i, r, u))) }, n._handleMove = function (n, t, i, r, u) { n.__touch.pointers[t] && n._handlePointerMove(t, i, r, u) }, n._handleEnd = function (n, t, i) { var r = n.__touch, u = r.pointers; u[t] && (r.count--, n._handlePointerUp(t, i, !0), delete u[t]) }, createjs.Touch = n }(), function () { var n = this.createjs = this.createjs || {}, n = n.EaselJS = n.EaselJS || {}; n.version = "0.6.1", n.buildDate = "Tue, 14 May 2013 21:43:02 GMT" }(), this.createjs = this.createjs || {}, function () { var t = function () { this.initialize() }, n = t.prototype; t.initialize = function (t) { t.addEventListener = n.addEventListener, t.removeEventListener = n.removeEventListener, t.removeAllEventListeners = n.removeAllEventListeners, t.hasEventListener = n.hasEventListener, t.dispatchEvent = n.dispatchEvent }, n._listeners = null, n.initialize = function () { }, n.addEventListener = function (n, t) { var i = this._listeners, r; return i ? this.removeEventListener(n, t) : i = this._listeners = {}, r = i[n], r || (r = i[n] = []), r.push(t), t }, n.removeEventListener = function (n, t) { var u = this._listeners, i, r, f; if (u && (i = u[n], i)) for (r = 0, f = i.length; r < f; r++) if (i[r] == t) { 1 == f ? delete u[n] : i.splice(r, 1); break } }, n.removeAllEventListeners = function (n) { n ? this._listeners && delete this._listeners[n] : this._listeners = null }, n.dispatchEvent = function (n, t) { var r = !1, i = this._listeners, u; if (n && i) { if ("string" == typeof n && (n = { type: n }), i = i[n.type], !i) return r; n.target = t || this; for (var i = i.slice(), f = 0, e = i.length; f < e; f++) u = i[f], r = u.handleEvent ? r || u.handleEvent(n) : r || u(n) } return !!r }, n.hasEventListener = function (n) { var t = this._listeners; return !(!t || !t[n]) }, n.toString = function () { return "[EventDispatcher]" }, createjs.EventDispatcher = t }(), this.createjs = this.createjs || {}, function () { var i = function (n, t, i) { this.initialize(n, t, i) }, t = i.prototype; i.NONE = 0, i.LOOP = 1, i.REVERSE = 2, i.IGNORE = {}, i._tweens = [], i._plugins = {}, i.get = function (n, t, r, u) { return u && i.removeTweens(n), new i(n, t, r) }, i.tick = function (n, t) { for (var r, f = i._tweens.slice(), u = f.length - 1; 0 <= u; u--) r = f[u], t && !r.ignoreGlobalPause || r._paused || r.tick(r._useTicks ? 1 : n) }, createjs.Ticker && createjs.Ticker.addListener(i, !1), i.removeTweens = function (n) { if (n.tweenjs_count) { for (var r = i._tweens, t = r.length - 1; 0 <= t; t--) r[t]._target == n && (r[t]._paused = !0, r.splice(t, 1)); n.tweenjs_count = 0 } }, i.removeAllTweens = function () { for (var r, n = i._tweens, t = 0, u = n.length; t < u; t++) r = n[t], r.paused = !0, r.target.tweenjs_count = 0; n.length = 0 }, i.hasActiveTweens = function (n) { return n ? n.tweenjs_count : i._tweens && i._tweens.length }, i.installPlugin = function (n, t) { var e = n.priority, r; null == e && (n.priority = e = 0); for (var o = 0, h = t.length, u = i._plugins; o < h; o++) if (r = t[o], u[r]) { for (var s = u[r], f = 0, c = s.length; f < c && !(e < s[f].priority) ; f++); u[r].splice(f, 0, n) } else u[r] = [n] }, i._register = function (n, t) { var r = n._target; t ? (r && (r.tweenjs_count = r.tweenjs_count ? r.tweenjs_count + 1 : 1), i._tweens.push(n)) : (r && r.tweenjs_count--, r = i._tweens.indexOf(n), -1 != r && i._tweens.splice(r, 1)) }, t.addEventListener = null, t.removeEventListener = null, t.removeAllEventListeners = null, t.dispatchEvent = null, t.hasEventListener = null, t._listeners = null, createjs.EventDispatcher.initialize(t), t.ignoreGlobalPause = !1, t.loop = !1, t.duration = 0, t.pluginData = null, t.onChange = null, t.change = null, t.target = null, t.position = null, t._paused = !1, t._curQueueProps = null, t._initQueueProps = null, t._steps = null, t._actions = null, t._prevPosition = 0, t._stepPosition = 0, t._prevPos = -1, t._target = null, t._useTicks = !1, t.initialize = function (n, t, r) { this.target = this._target = n, t && (this._useTicks = t.useTicks, this.ignoreGlobalPause = t.ignoreGlobalPause, this.loop = t.loop, this.onChange = t.onChange, t.override && i.removeTweens(n)), this.pluginData = r || {}, this._curQueueProps = {}, this._initQueueProps = {}, this._steps = [], this._actions = [], t && t.paused ? this._paused = !0 : i._register(this, !0), t && null != t.position && this.setPosition(t.position, i.NONE) }, t.wait = function (n) { if (null == n || 0 >= n) return this; var t = this._cloneProps(this._curQueueProps); return this._addStep({ d: n, p0: t, e: this._linearEase, p1: t }) }, t.to = function (n, t, i) { return (isNaN(t) || 0 > t) && (t = 0), this._addStep({ d: t || 0, p0: this._cloneProps(this._curQueueProps), e: i, p1: this._cloneProps(this._appendQueueProps(n)) }) }, t.call = function (n, t, i) { return this._addAction({ f: n, p: t ? t : [this], o: i ? i : this._target }) }, t.set = function (n, t) { return this._addAction({ f: this._set, o: this, p: [n, t ? t : this._target] }) }, t.play = function (n) { return this.call(n.setPaused, [!1], n) }, t.pause = function (n) { return n || (n = this), this.call(n.setPaused, [!0], n) }, t.setPosition = function (n, t) { var i, u, f, r, e; if (0 > n && (n = 0), null == t && (t = 1), i = n, u = !1, i >= this.duration && (this.loop ? i %= this.duration : (i = this.duration, u = !0)), i == this._prevPos) return u; if (f = this._prevPos, this.position = this._prevPos = i, this._prevPosition = n, this._target) if (u) this._updateTargetProps(null, 1); else if (0 < this._steps.length) { for (r = 0, e = this._steps.length; r < e && !(this._steps[r].t > i) ; r++); r = this._steps[r - 1], this._updateTargetProps(r, (this._stepPosition = i - r.t) / r.d) } return 0 != t && 0 < this._actions.length && (this._useTicks ? this._runActions(i, i) : 1 == t && i < f ? (f != this.duration && this._runActions(f, this.duration), this._runActions(0, i, !0)) : this._runActions(f, i)), u && this.setPaused(!0), this.onChange && this.onChange(this), this.dispatchEvent("change"), u }, t.tick = function (n) { this._paused || this.setPosition(this._prevPosition + n) }, t.setPaused = function (n) { return this._paused = !!n, i._register(this, !n), this }, t.w = t.wait, t.t = t.to, t.c = t.call, t.s = t.set, t.toString = function () { return "[Tween]" }, t.clone = function () { throw "Tween can not be cloned."; }, t._updateTargetProps = function (t, r) { var e, o, u, f, h, s, l, c; !t && 1 == r ? e = o = this._curQueueProps : (t.e && (r = t.e(r, 0, 1, 1)), e = t.p0, o = t.p1); for (n in this._initQueueProps) { if (null == (u = e[n]) && (e[n] = u = this._initQueueProps[n]), null == (f = o[n]) && (o[n] = f = u), u = u == f || 0 == r || 1 == r || "number" != typeof u ? 1 == r ? f : u : u + (f - u) * r, h = !1, f = i._plugins[n]) for (s = 0, l = f.length; s < l; s++) c = f[s].tween(this, n, u, e, o, r, !!t && e == o, !t), c == i.IGNORE ? h = !0 : u = c; h || (this._target[n] = u) } }, t._runActions = function (n, t, i) { var o = n, u = t, f = -1, e = this._actions.length, s = 1, r; for (n > t && (o = t, u = n, f = e, e = s = -1) ; (f += s) != e;) t = this._actions[f], r = t.t, (r == u || r > o && r < u || i && r == n) && t.f.apply(t.o, t.p) }, t._appendQueueProps = function (n) { var u, f, r, o, e, t; for (t in n) { if (void 0 === this._initQueueProps[t]) { if (f = this._target[t], u = i._plugins[t]) for (r = 0, o = u.length; r < o; r++) f = u[r].init(this, t, f); this._initQueueProps[t] = void 0 === f ? null : f } else f = this._curQueueProps[t]; if (u = i._plugins[t]) for (e = e || {}, r = 0, o = u.length; r < o; r++) u[r].step && u[r].step(this, t, f, n[t], e); this._curQueueProps[t] = n[t] } return e && this._appendQueueProps(e), this._curQueueProps }, t._cloneProps = function (n) { var i = {}, t; for (t in n) i[t] = n[t]; return i }, t._addStep = function (n) { return 0 < n.d && (this._steps.push(n), n.t = this.duration, this.duration += n.d), this }, t._addAction = function (n) { return n.t = this.duration, this._actions.push(n), this }, t._set = function (n, t) { for (var i in n) t[i] = n[i] }, createjs.Tween = i }(), this.createjs = this.createjs || {}, function () { var t = function (n, t, i) { this.initialize(n, t, i) }, n = t.prototype; n.ignoreGlobalPause = !1, n.duration = 0, n.loop = !1, n.onChange = null, n.position = null, n._paused = !1, n._tweens = null, n._labels = null, n._prevPosition = 0, n._prevPos = -1, n._useTicks = !1, n.initialize = function (n, t, i) { this._tweens = [], i && (this._useTicks = i.useTicks, this.loop = i.loop, this.ignoreGlobalPause = i.ignoreGlobalPause, this.onChange = i.onChange), n && this.addTween.apply(this, n), this.setLabels(t), i && i.paused ? this._paused = !0 : createjs.Tween._register(this, !0), i && null != i.position && this.setPosition(i.position, createjs.Tween.NONE) }, n.addTween = function (n) { var i = arguments.length, t; if (1 < i) { for (t = 0; t < i; t++) this.addTween(arguments[t]); return arguments[0] } return 0 == i ? null : (this.removeTween(n), this._tweens.push(n), n.setPaused(!0), n._paused = !1, n._useTicks = this._useTicks, n.duration > this.duration && (this.duration = n.duration), 0 <= this._prevPos && n.setPosition(this._prevPos, createjs.Tween.NONE), n) }, n.removeTween = function (n) { var t = arguments.length, i, r; if (1 < t) { for (i = !0, r = 0; r < t; r++) i = i && this.removeTween(arguments[r]); return i } return 0 == t ? !1 : (t = this._tweens.indexOf(n), -1 != t ? (this._tweens.splice(t, 1), n.duration >= this.duration && this.updateDuration(), !0) : !1) }, n.addLabel = function (n, t) { this._labels[n] = t }, n.setLabels = function (n) { this._labels = n ? n : {} }, n.gotoAndPlay = function (n) { this.setPaused(!1), this._goto(n) }, n.gotoAndStop = function (n) { this.setPaused(!0), this._goto(n) }, n.setPosition = function (n, t) { var i, r, u, f; if (0 > n && (n = 0), i = this.loop ? n % this.duration : n, r = !this.loop && n >= this.duration, i == this._prevPos) return r; for (this._prevPosition = n, this.position = this._prevPos = i, u = 0, f = this._tweens.length; u < f; u++) if (this._tweens[u].setPosition(i, t), i != this._prevPos) return !1; return r && this.setPaused(!0), this.onChange && this.onChange(this), r }, n.setPaused = function (n) { this._paused = !!n, createjs.Tween._register(this, !n) }, n.updateDuration = function () { for (var t, n = this.duration = 0, i = this._tweens.length; n < i; n++) t = this._tweens[n], t.duration > this.duration && (this.duration = t.duration) }, n.tick = function (n) { this.setPosition(this._prevPosition + n) }, n.resolve = function (n) { var t = parseFloat(n); return isNaN(t) && (t = this._labels[n]), t }, n.toString = function () { return "[Timeline]" }, n.clone = function () { throw "Timeline can not be cloned."; }, n._goto = function (n) { n = this.resolve(n), null != n && this.setPosition(n) }, createjs.Timeline = t }(), this.createjs = this.createjs || {}, function () { var n = function () { throw "Ease cannot be instantiated."; }; n.linear = function (n) { return n }, n.none = n.linear, n.get = function (n) { return -1 > n && (n = -1), 1 < n && (n = 1), function (t) { return 0 == n ? t : 0 > n ? t * (t * -n + 1 + n) : t * ((2 - t) * n + (1 - n)) } }, n.getPowIn = function (n) { return function (t) { return Math.pow(t, n) } }, n.getPowOut = function (n) { return function (t) { return 1 - Math.pow(1 - t, n) } }, n.getPowInOut = function (n) { return function (t) { return 1 > (t *= 2) ? .5 * Math.pow(t, n) : 1 - .5 * Math.abs(Math.pow(2 - t, n)) } }, n.quadIn = n.getPowIn(2), n.quadOut = n.getPowOut(2), n.quadInOut = n.getPowInOut(2), n.cubicIn = n.getPowIn(3), n.cubicOut = n.getPowOut(3), n.cubicInOut = n.getPowInOut(3), n.quartIn = n.getPowIn(4), n.quartOut = n.getPowOut(4), n.quartInOut = n.getPowInOut(4), n.quintIn = n.getPowIn(5), n.quintOut = n.getPowOut(5), n.quintInOut = n.getPowInOut(5), n.sineIn = function (n) { return 1 - Math.cos(n * Math.PI / 2) }, n.sineOut = function (n) { return Math.sin(n * Math.PI / 2) }, n.sineInOut = function (n) { return -.5 * (Math.cos(Math.PI * n) - 1) }, n.getBackIn = function (n) { return function (t) { return t * t * ((n + 1) * t - n) } }, n.backIn = n.getBackIn(1.7), n.getBackOut = function (n) { return function (t) { return --t * t * ((n + 1) * t + n) + 1 } }, n.backOut = n.getBackOut(1.7), n.getBackInOut = function (n) { return n *= 1.525, function (t) { return 1 > (t *= 2) ? .5 * t * t * ((n + 1) * t - n) : .5 * ((t -= 2) * t * ((n + 1) * t + n) + 2) } }, n.backInOut = n.getBackInOut(1.7), n.circIn = function (n) { return -(Math.sqrt(1 - n * n) - 1) }, n.circOut = function (n) { return Math.sqrt(1 - --n * n) }, n.circInOut = function (n) { return 1 > (n *= 2) ? -.5 * (Math.sqrt(1 - n * n) - 1) : .5 * (Math.sqrt(1 - (n -= 2) * n) + 1) }, n.bounceIn = function (t) { return 1 - n.bounceOut(1 - t) }, n.bounceOut = function (n) { return n < 1 / 2.75 ? 7.5625 * n * n : n < 2 / 2.75 ? 7.5625 * (n -= 1.5 / 2.75) * n + .75 : n < 2.5 / 2.75 ? 7.5625 * (n -= 2.25 / 2.75) * n + .9375 : 7.5625 * (n -= 2.625 / 2.75) * n + .984375 }, n.bounceInOut = function (t) { return .5 > t ? .5 * n.bounceIn(2 * t) : .5 * n.bounceOut(2 * t - 1) + .5 }, n.getElasticIn = function (n, t) { var i = 2 * Math.PI; return function (r) { if (0 == r || 1 == r) return r; var u = t / i * Math.asin(1 / n); return -(n * Math.pow(2, 10 * (r -= 1)) * Math.sin((r - u) * i / t)) } }, n.elasticIn = n.getElasticIn(1, .3), n.getElasticOut = function (n, t) { var i = 2 * Math.PI; return function (r) { if (0 == r || 1 == r) return r; var u = t / i * Math.asin(1 / n); return n * Math.pow(2, -10 * r) * Math.sin((r - u) * i / t) + 1 } }, n.elasticOut = n.getElasticOut(1, .3), n.getElasticInOut = function (n, t) { var i = 2 * Math.PI; return function (r) { var u = t / i * Math.asin(1 / n); return 1 > (r *= 2) ? -.5 * n * Math.pow(2, 10 * (r -= 1)) * Math.sin((r - u) * i / t) : .5 * n * Math.pow(2, -10 * (r -= 1)) * Math.sin((r - u) * i / t) + 1 } }, n.elasticInOut = n.getElasticInOut(1, .3 * 1.5), createjs.Ease = n }(), this.createjs = this.createjs || {}, function () { var n = function () { throw "MotionGuidePlugin cannot be instantiated."; }; n.priority = 0, n.install = function () { return createjs.Tween.installPlugin(n, ["guide", "x", "y", "rotation"]), createjs.Tween.IGNORE }, n.init = function (n, t, i) { return n = n.target, n.hasOwnProperty("x") || (n.x = 0), n.hasOwnProperty("y") || (n.y = 0), n.hasOwnProperty("rotation") || (n.rotation = 0), "guide" == t ? null : i }, n.step = function (t, i, r, u, f) { var s, o; if ("guide" != i || (u.hasOwnProperty("path") || (u.path = []), t = u.path, u.hasOwnProperty("end") || (u.end = 1), u.hasOwnProperty("start") || (u.start = r && r.hasOwnProperty("end") && r.path === t ? r.end : 0), u.hasOwnProperty("_segments") && u._length)) return u; if (r = t.length, 6 <= r && 0 == (r - 2) % 4) for (u._segments = [], u._length = 0, i = 2; i < r; i += 4) { for (var v = t[i - 2], y = t[i - 1], b = t[i + 0], k = t[i + 1], d = t[i + 2], g = t[i + 3], p = v, w = y, h, e, c = 0, l = [], a = 1; 10 >= a; a++) e = a / 10, o = 1 - e, h = o * o * v + 2 * o * e * b + e * e * d, e = o * o * y + 2 * o * e * k + e * e * g, c += l[l.push(Math.sqrt((s = h - p) * s + (s = e - w) * s)) - 1], p = h, w = e; u._segments.push(c), u._segments.push(l), u._length += c } else throw "invalid 'path' data, please see documentation for valid paths"; return s = u.orient, u.orient = !1, n.calc(u, u.end, f), u.orient = s, u }, n.tween = function (t, i, r, u, f, e, o) { return (f = f.guide, void 0 == f || f === u.guide) ? r : (f.lastRatio != e && (n.calc(f, (f.end - f.start) * (o ? f.end : e) + f.start, t.target), f.orient && (t.target.rotation += u.rotation || 0), f.lastRatio = e), !f.orient && "rotation" == i ? r : t.target[i]) }, n.calc = function (t, i, r) { void 0 == t._segments && n.validate(t), void 0 == r && (r = { x: 0, y: 0, rotation: 0 }); var o = t._segments, f = t.path, u = t._length * i, e = o.length - 2; for (i = 0; u > o[i] && i < e;) u -= o[i], i += 2; for (var o = o[i + 1], s = 0, e = o.length - 1; u > o[s] && s < e;) u -= o[s], s++; return u = s / ++e + u / (e * o[s]), i = 2 * i + 2, e = 1 - u, r.x = e * e * f[i - 2] + 2 * e * u * f[i + 0] + u * u * f[i + 2], r.y = e * e * f[i - 1] + 2 * e * u * f[i + 1] + u * u * f[i + 3], t.orient && (r.rotation = 57.2957795 * Math.atan2((f[i + 1] - f[i - 1]) * e + (f[i + 3] - f[i + 1]) * u, (f[i + 0] - f[i - 2]) * e + (f[i + 2] - f[i + 0]) * u)), r }, createjs.MotionGuidePlugin = n }(), function () { var n = this.createjs = this.createjs || {}, n = n.TweenJS = n.TweenJS || {}; n.version = "0.4.0", n.buildDate = "Tue, 12 Feb 2013 21:08:16 GMT" }(); var Vector2 = function (n, t) { this.x = n || 0, this.y = t || 0 }, GuideBox, gb; Vector2.prototype = { add: function (n) { return new Vector2(this.x + n.x, this.y + n.y) }, sub: function (n) { return new Vector2(this.x - n.x, this.y - n.y) }, multiplyScalar: function (n) { return this.x *= n, this.y *= n, this }, divideScalar: function (n) { return n ? (this.x /= n, this.y /= n) : this.set(0, 0), this }, length: function () { return Math.sqrt(this.lengthSq()) }, normalize: function () { return this.divideScalar(this.length()) }, lengthSq: function () { return this.x * this.x + this.y * this.y }, distanceToSquared: function (n) { var t = this.x - n.x, i = this.y - n.y; return t * t + i * i }, distanceTo: function (n) { return Math.sqrt(this.distanceToSquared(n)) }, setLength: function (n) { return this.normalize().multiplyScalar(n) } }, GuideBox = function (n) { var t; this.stage = new createjs.Stage(n), createjs.Ticker.addListener(this.stage, "tick"), createjs.Ticker.setFPS(60), t = this, this.state = ""; this.stage.addEventListener("stagemousedown", function () { t.stage.mouseX >= t.stage.canvas.width / 2 ? t.next() : t.prev() }); var i = 32, r = 37, u = 39, f = 65, e = 68, o = 74; this.interval = 20, window.onkeyup = function (n) { if (!n) var n = window.event; switch (n.keyCode) { case i: energyHeld = !0; break; case o: shootHeld = !0; break; case f: t.prev(); break; case r: t.prev(); break; case e: t.next(); break; case u: t.next() } }, this.index = 0, this.statusIndex = 0, this.immediately = !1, this.tweenTargets = [] }, GuideBox.prototype.init = function () { var t, n, i; for (this.tasks = [], t = arguments.length, n = 0; n < t; n++) i = new createjs.Container, this.stage.addChild(i), this.tasks.push(arguments[n]); this.ctrlCTT = new createjs.Container, this.stage.addChild(this.ctrlCTT), this.ctrlShape = new createjs.Shape, this.ctrlCTT.addChild(this.ctrlShape), this.renderCtrl(t, 0) }, GuideBox.prototype.next = function () { var n, t; if (this.state == "playing") { this.completeCurrentTask(); return } this.state = "playing", n = this.tasks[this.index][this.statusIndex]; for (t in n) this[t].apply(this, n[t]); this.statusIndex++, this.statusIndex > this.tasks[this.index].length && (this.index < this.tasks.length - 1 ? (this.state = "", createjs.Tween.get(this.stage.getChildAt(this.index)).to({ alpha: 0 }, 300), this.index++, this.renderCtrl(this.tasks.length, this.index), createjs.Tween.get(this.stage.getChildAt(this.index)).to({ alpha: 1 }, 300), this.statusIndex = 0) : this.statusIndex--) }, GuideBox.prototype.completeCurrentTask = function () { var r, n, t, i; for (this.loop && clearInterval(this.loop) ; r = this.tweenTargets.shift() ;) createjs.Tween.removeTweens(r); n = this.stage.getChildAt(this.index).children[this.statusIndex - 1], n && n.parent.removeChild(n), t = this.tasks[this.index][this.statusIndex - 1], this.immediately = !0; for (i in t) this[i].apply(this, t[i]) }, GuideBox.prototype.prev = function () { var t, n; for (this.state = "", this.immediately = !1, this.loop && clearInterval(this.loop) ; t = this.tweenTargets.shift() ;) createjs.Tween.removeTweens(t); if (this.statusIndex == 0) { this.index > 0 && (createjs.Tween.get(this.stage.getChildAt(this.index)).to({ alpha: 0 }, 300), this.index--, createjs.Tween.get(this.stage.getChildAt(this.index)).to({ alpha: 1 }, 300), this.renderCtrl(this.tasks.length, this.index), this.statusIndex = this.tasks[this.index].length); return } n = this.stage.getChildAt(this.index).children[this.statusIndex - 1], n && n.parent.removeChild(n), this.statusIndex-- }, GuideBox.prototype.first = function () { }, GuideBox.prototype.last = function () { }, GuideBox.prototype.drawRect = function (n, t, i, r, u, f) { var e = new createjs.Shape, o, s, h; this.stage.getChildAt(this.index).addChild(e), o = this, u = u || 3, f = f || "black", this.immediately ? (e.graphics.ss(u).beginStroke(f), e.graphics.rect(n, t, i, r), o.state = "", this.immediately = !1) : (s = sw = 4, h = sh = r / i * 4, this.loop = setInterval(function () { sw < i ? (e.graphics.clear(), e.graphics.ss(u).beginStroke(f), e.graphics.rect(n, t, sw, sh), sw += s, sh += h) : (o.state = "", clearInterval(o.loop)) }, o.interval)) }, GuideBox.prototype.drawLine = function (n, t, i, r, u, f) { var e = new createjs.Shape; if (this.stage.getChildAt(this.index).addChild(e), this.immediately) this.state = "", this.immediately = !1, e.graphics.ss(u).beginStroke(f), e.graphics.mt(n, t).lineTo(i, r).cp().es(); else { var h = this, s = new Vector2(n, t), c = new Vector2(i, r), a = c.sub(s).normalize(), l = a.setLength(5), o = s.add(l), v = s.distanceToSquared(c); this.loop = setInterval(function () { u = u || 4, f = f || "black", o.distanceToSquared(s) <= v ? (e.graphics.clear(), e.graphics.ss(u).beginStroke(f), e.graphics.mt(n, t).lineTo(o.x, o.y).cp().es(), o = o.add(l)) : (h.state = "", clearInterval(h.loop)) }, h.interval) } }, GuideBox.prototype.fillText = function (n, t, i, r, u) { var f = new createjs.Text(i, (r || "20") + "px Arial", u || "#FFF"), e; f.y = t, f.x = n, this.immediately ? (this.state = "", this.immediately = !1, this.stage.getChildAt(this.index).addChild(f)) : (f.alpha = 0, e = this, this.stage.getChildAt(this.index).addChild(f), this.tweenTargets.push(f), createjs.Tween.get(f).to({ alpha: 1 }, 1500).call(function () { e.state = "" })) }, GuideBox.prototype.drawImage = function (n, t, i) { var r = new createjs.Bitmap(i), u; r.x = n, r.y = t, this.immediately ? (this.state = "", this.immediately = !1, this.stage.getChildAt(this.index).addChild(r)) : (r.alpha = 0, u = this, this.stage.getChildAt(this.index).addChild(r), this.tweenTargets.push(r), createjs.Tween.get(r).to({ alpha: 1 }, 1500).call(function () { u.state = "" })) }, GuideBox.prototype.drawCircle = function (n, t, i, r, u) { var f = new createjs.Shape, e, o; this.stage.getChildAt(this.index).addChild(f), e = this, r = r || 3, u = u || "black", this.immediately ? (f.graphics.ss(r).beginStroke(u), f.graphics.drawCircle(n, t, i), e.state = "", this.immediately = !1) : (o = sr = 2, this.loop = setInterval(function () { sr < i ? (f.graphics.clear(), f.graphics.ss(r).beginStroke(u), f.graphics.drawCircle(n, t, sr), sr += o) : (e.state = "", clearInterval(e.loop)) }, e.interval)) }, GuideBox.prototype.renderCtrl = function (n, t) { var i, r; for (this.ctrlShape.graphics.clear(), i = this.stage.canvas.width / 2 - 15 * n - 4, r = 0; r < n; r++) i += 30, this.ctrlShape.graphics.beginStroke("black").dc(i, this.stage.canvas.height - 15, 8).endStroke(), this.ctrlShape.graphics.beginFill(r == t ? "black" : "white").dc(i, this.stage.canvas.height - 15, 8).ef() }, GuideBox.prototype.drawArrow = function () { }, GuideBox.prototype.drawStar = function () { }, GuideBox.prototype.drawEllipse = function () { }, GuideBox._deepClone = function (n) { var r, t, i; if (!n) return n; if (r = [Number, String, Boolean], r.forEach(function (i) { n instanceof i && (t = i(n)) }), typeof t == "undefined") if (Object.prototype.toString.call(n) === "[object Array]") t = [], n.forEach(function (n, i) { t[i] = GuideBox._deepClone(n) }); else if (typeof n == "object") if (n.nodeType && typeof n.cloneNode == "function") t = n.cloneNode(!0); else if (n.prototype) t = !1 && n.constructor ? new n.constructor : n; else if (n instanceof Date) t = new Date(n); else { t = {}; for (i in n) t[i] = GuideBox._deepClone(n[i]) } else t = n; return t }