!function(){var n=!1,e=/xyz/.test(function(){})?/\b_super\b/:/.*/,i=function(){};i.extend=function(t){function i(){!n&&this.ctor&&this.ctor.apply(this,arguments)}var o,a,r,s=this.prototype;n=!0,o=new this,n=!1;for(r in t)"statics"!=r&&(o[r]="function"==typeof t[r]&&"function"==typeof s[r]&&e.test(t[r])?function(t,n){return function(){var i,e=this._super;return this._super=s[t],i=n.apply(this,arguments),this._super=e,i}}(r,t[r]):t[r]);for(a in this)this.hasOwnProperty(a)&&"extend"!=a&&(i[a]=this[a]);if(i.prototype=o,t.statics)for(r in t.statics)t.statics.hasOwnProperty(r)&&(i[r]=t.statics[r],"ctor"==r&&i[r]());return i.prototype.constructor=i,i.extend=arguments.callee,i.implement=function(t){for(var n in t)o[n]=t[n]},i},function(){var t={};t.UI={},t.Shape={};var n={};n.Main=i.extend({ctor:function(){var e,n=new t.Loader;n.loadRes([{id:"kmd",src:"img/kmd.png"},{id:"pig",src:"img/pig.png"},{id:"hero",src:"img/hero-m.png"}]),n.complete(function(){var s=new t.Bitmap(n.get("kmd"));s.x=100,s.y=100,i.add(s),e=new t.Bitmap(n.get("pig")),e.x=164,e.y=334,e.regX=64,e.regY=64,i.add(e),e.on("click",function(){alert("i am a pig")}),e.hover(function(){this.scaleX=this.scaleY=1.1},function(){this.scaleX=this.scaleY=1});var o={framerate:10,imgs:[n.get("hero"),n.get("pig")],frames:[[64,64,64,64],[128,64,64,64],[192,64,64,64],[256,64,64,64],[320,64,64,64],[384,64,64,64],[448,64,64,64]],animations:{walk:{frames:[0,1,2,3,4,5,6],next:"run",speed:2,loop:!1},jump:{}}},a=new t.Sprite(o);a.y=200,a.hover(function(){this.scaleX=this.scaleY=1.1},function(){this.scaleX=this.scaleY=1}),i.add(a)});var i=new t.Stage("#ourCanvas"),s=new t.Txt("Hello Kanvas!","bold 36px Arial","#1FC5AE");s.x=140,s.y=100,s.regX=100,s.regY=20,s.skewX=30,s.skewY=-30,s.rotation=20,i.add(s),i.update();var o=new t.Txt("KMD:Kill AMD and CMD!","bold 26px Arial","#F6626E");o.y=400,o.on("click",function(){alert(this.text)}),i.add(o);var a=new t.Shape.Circle(55,"#EDB2A2");a.x=60,a.y=60,a.on("click",function(){alert("i'm a red ball!")}),a.on("mouseover",function(){a.scaleX=a.scaleY=1.1}),a.on("mouseout",function(){a.scaleX=a.scaleY=1});var r=new t.Shape.Circle(35,"#89C4B6");r.x=60,r.y=60,r.on("click",function(){alert("i'm a green ball!")}),r.hover(function(){this.scaleX=this.scaleY=1.1},function(){this.scaleX=this.scaleY=1});var h=new t.Shape.Circle(18,"#CFB876");h.x=60,h.y=60,i.add(a,r,h),h.hover(function(){this.scaleX=this.scaleY=1.1},function(){this.scaleX=this.scaleY=1});var u=new t.Container;u.x=268,u.y=58;var c=new t.Shape.Circle(48,"#A0EFE3"),l=new t.Txt("Container!","bold 16px Arial","#d55555");l.regX=40,l.regY=8,u.add(c,l),i.add(u),u.on("click",function(){alert("i am a Container!")});var d=new t.Txt("Click Me!","bold 16px Arial","#f22222");d.regX=30,d.regY=8;var f=new t.UI.ShapeButton(new t.Shape.Circle(48,"#AcE5C2"),d);f.x=270,f.y=320,i.add(f);var p=new t.Container,v=new t.Shape.Circle(38,"#ADE8C2"),m=new t.Txt("Over me!","bold 16px Arial","#f22222");p.x=170,p.y=220,m.regX=34,m.regY=8,p.add(v,m),i.add(p),p.hover(function(){new t.TWEEN.Tween(p).to({scaleX:4,scaleY:4},700).easing(t.TWEEN.Easing.Bounce.Out).start()},function(){new t.TWEEN.Tween(p).to({scaleX:1,scaleY:1},700).easing(t.TWEEN.Easing.Bounce.Out).start()});var w=.02;t.RAF.requestInterval(function(){s.rotation++,u.scaleX+=w,u.scaleY+=w,u.scaleY>1.1&&(w*=-1),u.scaleY<.5&&(w*=-1),e&&e.rotation--,t.TWEEN.update(),i.update()},15)}}),t.Loader=i.extend({ctor:function(){this.audios={},this.res={},this.loadedCount=0,this.resCount=-1,this.FILE_PATTERN=/(\w+:\/{2})?((?:\w+\.){2}\w+)?(\/?[\S]+\/|\/)?([\w\-%\.]+)(?:\.)(\w+)?(\?\S+)?/i,this.ns=3,this.sounds=[];for(var t=0;t<this.ns;t++)this.sounds.push([]);this.playing=[],this.soundsCount=0},get:function(t){return this.res[t]},loadRes:function(t){this.resCount=t.length;for(var n=0;n<t.length;n++)"audio"==this._getTypeByExtension(t[n].src.match(this.FILE_PATTERN)[5])?this.loadAudio(t[n].id,t[n].src):this.loadImage(t[n].id,t[n].src)},loadImage:function(t,n){var e=document.createElement("img"),i=this;e.onload=function(){i._handleLoad(this,t),e.onreadystatechange=null},e.onreadystatechange=function(){("loaded"==e.readyState||"complete"==e.readyState)&&(i._handleLoad(this,t),e.onload=null)},e.onerror=function(){},e.src=n},loadAudio:function(t,n){var e=document.createElement("audio");e.autoplay=!1,this.res[t]=e,e.src=null,e.preload="auto",e.onerror=function(){},e.onstalled=function(){};var i=this,s=function(){i.playing[t]=0;for(var e=0;e<i.ns;e++)i.sounds[e][t]=new Audio(n);i.loadedCount++,i.handleProgress(i.loadedCount,i.resCount),i._clean(this),this.removeEventListener&&this.removeEventListener("canplaythrough",s,!1),i.checkComplete()};e.addEventListener("canplaythrough",s,!1),e.src=n,null!=e.load&&e.load()},checkComplete:function(){this.loadedCount===this.resCount&&this.handleComplete()},complete:function(t){this.handleComplete=t},progress:function(t){this.handleProgress=t},playSound:function(t){this.sounds[this.playing[t]][t].play(),++this.playing[t],this.playing[t]>=this.ns&&(this.playing[t]=0)},_handleLoad:function(t,n){this._clean(t),this.res[n]=t,this.loadedCount++,this.handleProgress&&this.handleProgress(this.loadedCount,this.resCount),this.checkComplete()},_getTypeByExtension:function(t){switch(t){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return"img";case"ogg":case"mp3":case"wav":return"audio"}},_clean:function(t){t.onload=null,t.onstalled=null,t.onprogress=null,t.onerror=null}}),t.DisplayObject=i.extend({ctor:function(){this.alpha=this.scaleX=this.scaleY=1,this.x=this.y=this.rotation=this.regX=this.regY=this.skewX=this.skewY=0,this.visible=!0,this._matrix=new t.Matrix2D,this.events={},this.id=t.UID.get()},isVisible:function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},updateContext:function(t){var n=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);t.transform(n.a,n.b,n.c,n.d,n.tx,n.ty)},on:function(n,e){["mouseover","mousemove","mouseout","touchstart","touchmove","touchend"].join("_").match(n)&&(t.Stage.checkMove=!0),this.events[n]||(this.events[n]=[]),this.events[n].push(e)},execEvent:function(t){var n=this.events[t];this._fireFns(n)},hover:function(t,n){this.on("mouseover",t),this.on("mouseout",n)},_fireFns:function(t){if(t)for(var n=0,e=t.length;e>n;n++)t[n].call(this)},clone:function(){var n=new t.DisplayObject;return this.cloneProps(n),n},cloneProps:function(t){t.visible=this.visible,t.alpha=this.alpha,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.skewX=this.skewX,t.skewY=this.skewY,t.x=this.x,t.y=this.y}}),t.Txt=t.DisplayObject.extend({ctor:function(t,n,e){this._super(),this.text=t,this.font=n,this.color=e,this.textAlign="left",this.textBaseline="top"},draw:function(t){t.fillStyle=this.color,t.font=this.font,t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t.fillText(this.text,0,0)},clone:function(){var n=new t.Txt(this.text,this.font,this.color);return this.cloneProps(n),n}}),t.Container=t.DisplayObject.extend({ctor:function(){this._super(),this.children=[]},draw:function(t){for(var n=0,e=this.children.length;e>n;n++){var i=this.children[n];i.isVisible()&&(t.save(),i.updateContext(t),i.draw(t),t.restore())}},add:function(t){var n=arguments.length;if(n>1)for(var e=0;n>e;e++){var i=arguments[e];i&&this.children.push(i)}else t&&this.children.push(t)},_getHitChild:function(t,n,e){var i=this.children.length;t.clearRect(0,0,2,2);for(var s=i-1;s>=0;s--){var o=this.children[s];if(o.x-=n,o.y-=e,t.save(),o.updateContext(t),o.draw(t),t.restore(),o.x+=n,o.y+=e,t.getImageData(0,0,1,1).data[3]>1)return o}},clone:function(){var n=new t.Container;this.cloneProps(n);for(var e=n.children=[],i=this.children.length-1;i>-1;i--){var s=this.children[i].clone();e.unshift(s)}return n}}),t.Stage=t.Container.extend({statics:{checkMove:!1},ctor:function(t){this._super(),this.canvas="string"==typeof t?document.querySelector(t):t,this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.hitCanvas=document.createElement("canvas"),this.hitCanvas.width=1,this.hitCanvas.height=1,this.hitCtx=this.hitCanvas.getContext("2d"),Function.prototype.bind=function(){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},this.canvas.addEventListener("click",this._handleClick.bind(this),!1),this.canvas.addEventListener("mousemove",this._handleMouseMove.bind(this),!1),this.canvas.addEventListener("mousedown",this._handleMouseDown.bind(this),!1),this.canvas.addEventListener("mouseup",this._handleMouseUp.bind(this),!1),this.offset=this._getXY(this.canvas),this.overObj=null},update:function(){this.ctx.clearRect(0,0,this.width,this.height),this.draw(this.ctx)},_handleClick:function(t){var n=this._getHitChild(this.hitCtx,t.pageX-this.offset[0],t.pageY-this.offset[1]);n&&n.execEvent("click")},_handleMouseMove:function(n){if(t.Stage.checkMove){var e=this._getHitChild(this.hitCtx,n.pageX-this.offset[0],n.pageY-this.offset[1]);e?this.overObj?e.id!=this.overObj.id?(this.overObj.execEvent("mouseout"),e.execEvent("mouseover"),this.overObj=e):e.execEvent("mousemove"):(this.overObj=e,e.execEvent("mouseover")):this.overObj&&(this.overObj.execEvent("mouseout"),this.overObj=null)}},_handleMouseDown:function(t){var n=this._getHitChild(this.hitCtx,t.pageX-this.offset[0],t.pageY-this.offset[1]);n&&n.execEvent("mousedown")},_handleMouseUp:function(t){var n=this._getHitChild(this.hitCtx,t.pageX-this.offset[0],t.pageY-this.offset[1]);n&&n.execEvent("mouseup")},_getXY:function(t){var n=0,e=0;if(t)if(document.documentElement.getBoundingClientRect&&t.getBoundingClientRect){var i={left:0,top:0,right:0,bottom:0};try{i=t.getBoundingClientRect(),e=i.left,n=i.top}catch(s){return alert(1),[0,0]}}else for(;t.offsetParent;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return[e+Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),n+Math.max(document.documentElement.scrollTop,document.body.scrollTop)]}}),t.TWEEN=i.extend({statics:{ctor:function(){void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()}),this._tweens=[]},REVISION:"14",getAll:function(){return this._tweens},removeAll:function(){this._tweens=[]},add:function(t){this._tweens.push(t)},remove:function(t){var n=this._tweens.indexOf(t);-1!==n&&this._tweens.splice(n,1)},update:function(t){if(0===this._tweens.length)return!1;var n=0;for(t=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();n<this._tweens.length;)this._tweens[n].update(t)?n++:this._tweens.splice(n,1);return!0},Tween:function(n){var e=n,i={},s={},o={},a=1e3,r=0,h=!1,u=!1,c=!1,l=0,d=null,f=t.TWEEN.Easing.Linear.None,p=t.TWEEN.Interpolation.Linear,v=[],m=null,w=!1,g=null,x=null,y=null;for(var C in n)i[C]=parseFloat(n[C],10);this.to=function(t,n){return void 0!==n&&(a=n),s=t,this},this.start=function(n){t.TWEEN.add(this),u=!0,w=!1,d=void 0!==n?n:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),d+=l;for(var a in s){if(s[a]instanceof Array){if(0===s[a].length)continue;s[a]=[e[a]].concat(s[a])}i[a]=e[a],i[a]instanceof Array==!1&&(i[a]*=1),o[a]=i[a]||0}return this},this.stop=function(){return u?(t.TWEEN.remove(this),u=!1,null!==y&&y.call(e),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var t=0,n=v.length;n>t;t++)v[t].stop()},this.delay=function(t){return l=t,this},this.repeat=function(t){return r=t,this},this.yoyo=function(t){return h=t,this},this.easing=function(t){return f=t,this},this.interpolation=function(t){return p=t,this},this.chain=function(){return v=arguments,this},this.onStart=function(t){return m=t,this},this.onUpdate=function(t){return g=t,this},this.onComplete=function(t){return x=t,this},this.onStop=function(t){return y=t,this},this.update=function(t){var n;if(d>t)return!0;w===!1&&(null!==m&&m.call(e),w=!0);var u=(t-d)/a;u=u>1?1:u;var y=f(u);for(n in s){var C=i[n]||0,E=s[n];E instanceof Array?e[n]=p(E,y):("string"==typeof E&&(E=C+parseFloat(E,10)),"number"==typeof E&&(e[n]=C+(E-C)*y))}if(null!==g&&g.call(e,y),1==u){if(r>0){isFinite(r)&&r--;for(n in o){if("string"==typeof s[n]&&(o[n]=o[n]+parseFloat(s[n],10)),h){var b=o[n];o[n]=s[n],s[n]=b}i[n]=o[n]}return h&&(c=!c),d=t+l,!0}null!==x&&x.call(e);for(var _=0,I=v.length;I>_;_++)v[_].start(t);return!1}return!0}},Easing:{Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var n,e=.1,i=.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=i/4):n=i*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(t-=1))*Math.sin(2*(t-n)*Math.PI/i)))},Out:function(t){var n,e=.1,i=.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=i/4):n=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin(2*(t-n)*Math.PI/i)+1)},InOut:function(t){var n,e=.1,i=.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=i/4):n=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?-.5*e*Math.pow(2,10*(t-=1))*Math.sin(2*(t-n)*Math.PI/i):e*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-n)*Math.PI/i)*.5+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*t*t*((n+1)*t-n):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(n){return 1-t.TWEEN.Easing.Bounce.Out(1-n)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(n){return.5>n?.5*t.TWEEN.Easing.Bounce.In(2*n):.5*t.TWEEN.Easing.Bounce.Out(2*n-1)+.5}}},Interpolation:{Linear:function(n,e){var i=n.length-1,s=i*e,o=Math.floor(s),a=t.TWEEN.Interpolation.Utils.Linear;return 0>e?a(n[0],n[1],s):e>1?a(n[i],n[i-1],i-s):a(n[o],n[o+1>i?i:o+1],s-o)},Bezier:function(n,e){var r,i=0,s=n.length-1,o=Math.pow,a=t.TWEEN.Interpolation.Utils.Bernstein;for(r=0;s>=r;r++)i+=o(1-e,s-r)*o(e,r)*n[r]*a(s,r);return i},CatmullRom:function(n,e){var i=n.length-1,s=i*e,o=Math.floor(s),a=t.TWEEN.Interpolation.Utils.CatmullRom;return n[0]===n[i]?(0>e&&(o=Math.floor(s=i*(1+e))),a(n[(o-1+i)%i],n[o],n[(o+1)%i],n[(o+2)%i],s-o)):0>e?n[0]-(a(n[0],n[0],n[1],n[1],-s)-n[0]):e>1?n[i]-(a(n[i],n[i],n[i-1],n[i-1],s-i)-n[i]):a(n[o?o-1:0],n[o],n[o+1>i?i:o+1],n[o+2>i?i:o+2],s-o)},Utils:{Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(n,e){var i=t.TWEEN.Interpolation.Utils.Factorial;return i(n)/i(e)/i(n-e)},Factorial:function(t){var e,n=1;if(a[t])return a[t];for(e=t;e>1;e--)n*=e;return a[t]=n},CatmullRom:function(t,n,e,i,s){var o=.5*(e-t),a=.5*(i-n),r=s*s,h=s*r;return(2*n-2*e+o+a)*h+(-3*n+3*e-2*o-a)*r+o*s+n}}}}}),t.Sprite=t.DisplayObject.extend({ctor:function(n){this._super(),this.option=n,this.currentFrameIndex=0,this.animationFrameIndex=0,this.currentAnimation="walk",this._rect=[0,0,10,10],this.img=this.option.imgs[0];var e=this;this.loop=t.RAF.requestInterval(function(){var t=e.option,n=t.animations[e.currentAnimation].frames,i=n.length;e.animationFrameIndex++,e.animationFrameIndex>i-1&&(e.animationFrameIndex=0),e._rect=t.frames[n[e.animationFrameIndex]],e._rect.length>4&&(e.img=t.imgs[e._rect[4]])},1e3/this.option.framerate)},draw:function(t){t.drawImage(this.img,this._rect[0],this._rect[1],this._rect[2],this._rect[3],0,0,this._rect[2],this._rect[3])}}),t.Bitmap=t.DisplayObject.extend({ctor:function(t){this._super(),this.img=t},draw:function(t){t.drawImage(this.img,0,0)}}),t.Shape.Circle=t.DisplayObject.extend({ctor:function(t,n,e){this._super(),this.r=t||1,this.color=n||"black",this.isHollow=e},draw:function(t){t.beginPath(),t.arc(0,0,this.r,0,2*Math.PI),this.isHollow?(t.strokeStyle=this.color,t.stroke()):(t.fillStyle=this.color,t.fill())},clone:function(){var n=new t.Shape.Circle(this.r,this.color,this.isHollow);return this.cloneProps(n),n}}),t.UI.Button=t.Container.extend({ctor:function(t,n,e,i){this._super(),this.up=t,this.down=n,this.over=e,this.disable=i,this.down.visible=!1,this.over&&(this.over.visible=!1),this.add(this.up,this.down,this.over,this.disable),this.on("mousedown",function(){this.down.visible=!0,this.up.visible=!1,this.over&&(this.over.visible=!1)}),this.on("mouseup",function(){this.down.visible=!1,this.up.visible=!0,this.over&&(this.over.visible=!1)}),this.over&&this.hover(function(){this.down.visible=!1,this.up.visible=!1,this.over.visible=!0},function(){this.down.visible=!1,this.up.visible=!0,this.over.visible=!1})}}),t.UI.ShapeButton=t.UI.Button.extend({ctor:function(n,e){var i=new t.Container;i.add(n,e);var s=i.clone();s.x++,s.y++;var o=i.clone();o.x--,o.y--,this._super(i,s,o)}}),t.RAF=i.extend({statics:{ctor:function(){var t=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),n=function(n,e){function o(){var a=(new Date).getTime(),r=a-i;r>=e&&(n.call(),i=(new Date).getTime()),s.value=t(o)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(n,e);var i=(new Date).getTime(),s=new Object;return s.value=t(o),s},e=function(t){window.cancelAnimationFrame?window.cancelAnimationFrame(t.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(t.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(t.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(t.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(t.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(t.value):clearInterval(t)};this.requestInterval=n,this.clearRequestInterval=e}}}),t.Matrix2D=i.extend({statics:{DEG_TO_RAD:.017453292519943295},ctor:function(t,n,e,i,s,o){return this.a=null==t?1:t,this.b=n||0,this.c=e||0,this.d=null==i?1:i,this.tx=s||0,this.ty=o||0,this},identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},appendTransform:function(n,e,i,s,o,a,r,h,u){if(o%360)var c=o*t.Matrix2D.DEG_TO_RAD,l=Math.cos(c),d=Math.sin(c);else l=1,d=0;return a||r?(a*=t.Matrix2D.DEG_TO_RAD,r*=t.Matrix2D.DEG_TO_RAD,this.append(Math.cos(r),Math.sin(r),-Math.sin(a),Math.cos(a),n,e),this.append(l*i,d*i,-d*s,l*s,0,0)):this.append(l*i,d*i,-d*s,l*s,n,e),(h||u)&&(this.tx-=h*this.a+u*this.c,this.ty-=h*this.b+u*this.d),this},append:function(t,n,e,i,s,o){var a=this.a,r=this.b,h=this.c,u=this.d;return this.a=t*a+n*h,this.b=t*r+n*u,this.c=e*a+i*h,this.d=e*r+i*u,this.tx=s*a+o*h+this.tx,this.ty=s*r+o*u+this.ty,this}}),t.UID=i.extend({statics:{_nextID:0,get:function(){return this._nextID++}}}),new n.Main}()}(this);